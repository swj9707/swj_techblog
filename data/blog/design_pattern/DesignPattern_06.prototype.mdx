---
title: '[Design Pattern] 06 - Prototype Pattern'
date: '2023-11-13T00:00:00.000Z'
tags: ['DesignPattern', 'Java']
draft: false
summary: Java 언어로 배우는 디자인 패턴 입문 정리 노트 여섯 번째. Prototype 패턴에 대하여.
---

# Reference

- https://www.yes24.com/Product/Goods/115576266
- 토비의 스프링 3.1

> 해당 포스팅은 `JAVA 언어로 배우는 디자인 패턴 입문` 의 내용을 정리 한 내용입니다.

# Intro

Prototype 은 `원형` 이라는 뜻입니다. 인스턴스의 원형이 되는 인스턴스를 바탕으로 새로운 인스턴스를 만드는 것을 Prototype 패턴이라고 합니다.

```java
package Prototype;

public interface Product extends Cloneable{
    public abstract void use(String s);
    public abstract Product createClone();
}
```

```java
package Prototype;

import java.util.HashMap;

public class Manager {
    private HashMap showcase = new HashMap();
    public void register(String name, Product product) {
        showcase.put(name, product);
    }

    public Product create(String name) {
        Product p = (Product) showcase.get(name);
        return p.createClone();
    }
}
```

```java
package Prototype;

public class MessageBox implements Product {
    private char decochar;

    public MessageBox(char decochar) {
        this.decochar = decochar;
    }

    @Override
    public void use(String s) {
        int length = s.getBytes().length;
        for (int i = 0; i < length + 4; i++) {
            System.out.print(decochar);
        }
        System.out.println(" ");
        System.out.println(decochar + " " + s + " " + decochar);
        for (int i = 0; i < length + 4; i++) {
            System.out.print(decochar);
        }
        System.out.println(" ");
    }

    @Override
    public Product createClone() {
        Product product = null;
        try {
            product = (Product) clone();
        } catch (CloneNotSupportedException e) {
            e.printStackTrace();
        }
        return product;
    }
}
```

```java
package Prototype;

public class UnderlinePen implements Product {
    private char ulchar;

    public UnderlinePen(char ulchar) {
        this.ulchar = ulchar;
    }

    @Override
    public void use(String s) {
        int length = s.getBytes().length;
        System.out.println("\"" + s + "\"");
        System.out.print(" ");
        for (int i = 0; i < length; i++) {
            System.out.print(ulchar);
        }
        System.out.println(" ");

    }

    @Override
    public Product createClone() {
        Product product = null;
        try {
            product = (Product) clone();
        } catch (CloneNotSupportedException e) {
            e.printStackTrace();
        }
        return product;
    }
}
```

```java
package Prototype;

public class Main {
    public static void main(String[] args) {
        Manager manager = new Manager();
        UnderlinePen underlinePen = new UnderlinePen('_');
        MessageBox messageBox1 = new MessageBox('*');
        MessageBox messageBox2 = new MessageBox('/');

        manager.register("strong message", underlinePen);
        manager.register("warning box", messageBox1);
        manager.register("slash box", messageBox2);

        Product p1 = manager.create("strong message");
        p1.use("Hello, world");

        Product p2 = manager.create("warning box");
        p2.use("Hello, world");

        Product p3 = manager.create("slash box");
        p3.use("Hello, world");
    }
}
```

```text
"Hello, world"
 ____________
****************
* Hello, world *
****************
////////////////
/ Hello, world /
////////////////
```
