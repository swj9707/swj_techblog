---
title: 'ğŸ¤¿ ìˆ¨ ê¾¹ ì°¸ê³  ë”¥ë‹¤ì´ë¸Œ 2 : ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine)'
date: '2025-07-20'
lastmod: '2025-07-20'
tags: ['ComputerScience', 'Programming', 'Enginnering', 'Study']
draft: false
summary: ìˆ¨ ê¾¹ì°¸ê³  ë”¥ë‹¤ì´ë¸Œ ì‹œë¦¬ì¦ˆ ë‘ë²ˆì§¸ ! ìœ í•œ ìƒíƒœ ê¸°ê³„
---

# ğŸ¤¿ ìˆ¨ ê¾¹ ì°¸ê³  ë”¥ë‹¤ì´ë¸Œ 2 : ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine)

- [ğŸ¤¿ ìˆ¨ ê¾¹ ì°¸ê³  ë”¥ë‹¤ì´ë¸Œ : ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine)](#-ìˆ¨-ê¾¹-ì°¸ê³ -ë”¥ë‹¤ì´ë¸Œ--ìœ í•œ-ìƒíƒœ-ê¸°ê³„-finite-state-machine)
  - [ğŸ¤Ÿ Intro](#-intro)
  - [ğŸ§ ìƒíƒœ (State) ì— ëŒ€í•œ ì´í•´](#-ìƒíƒœ-state-ì—-ëŒ€í•œ-ì´í•´)
  - [ğŸ§  ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine) ì— ëŒ€í•œ ì´í•´](#-ìœ í•œ-ìƒíƒœ-ê¸°ê³„-finite-state-machine-ì—-ëŒ€í•œ-ì´í•´)
    - [ğŸ§© í•µì‹¬ ìš”ì†Œ](#-í•µì‹¬-ìš”ì†Œ)
    - [ğŸ¯ ì™œ ìœ í•œí•´ì•¼ í• ê¹Œìš”??](#-ì™œ-ìœ í•œí•´ì•¼-í• ê¹Œìš”)
  - [ğŸ“š ì»´í“¨í„°ê³µí•™ ì´ë¡  ì´ì•¼ê¸° : ì˜¤í† ë§ˆíƒ€ ì´ë¡ ê³¼ íŠœë§ ë¨¸ì‹ ](#-ì»´í“¨í„°ê³µí•™-ì´ë¡ -ì´ì•¼ê¸°--ì˜¤í† ë§ˆíƒ€-ì´ë¡ ê³¼-íŠœë§-ë¨¸ì‹ )
    - [ğŸ“ ê°œìš”](#-ê°œìš”)
    - [ğŸ—ï¸ ì˜¤í† ë§ˆíƒ€ ì´ë¡  (Automata Theory) ì†Œê°œ](#ï¸-ì˜¤í† ë§ˆíƒ€-ì´ë¡ -automata-theory-ì†Œê°œ)
    - [ğŸ§® ê³„ì‚° ì´ë¡  (Theory of Computation)](#-ê³„ì‚°-ì´ë¡ -theory-of-computation)
    - [ğŸ–¨ï¸ íŠœë§ ë¨¸ì‹  (Turing Machine)](#ï¸-íŠœë§-ë¨¸ì‹ -turing-machine)
      - [â“ ê·¸ëŸ¼ ì´ê±¸ ì™œ ë§Œë“¤ì—ˆì„ê¹Œ?](#-ê·¸ëŸ¼-ì´ê±¸-ì™œ-ë§Œë“¤ì—ˆì„ê¹Œ)
      - [âš–ï¸ ìœ í•œìƒíƒœê¸°ê³„ vs íŠœë§ ë¨¸ì‹ ](#ï¸-ìœ í•œìƒíƒœê¸°ê³„-vs-íŠœë§-ë¨¸ì‹ )
  - [âš™ï¸ ì»´í“¨í„°ê³µí•™ ì´ë¡  ì´ì•¼ê¸° : ì»´íŒŒì¼ëŸ¬](#ï¸-ì»´í“¨í„°ê³µí•™-ì´ë¡ -ì´ì•¼ê¸°--ì»´íŒŒì¼ëŸ¬)
    - [ğŸ§¬ ì»´íŒŒì¼ëŸ¬ ì´ë¡  (Compiler Theory)](#-ì»´íŒŒì¼ëŸ¬-ì´ë¡ -compiler-theory)
  - [ğŸŒ± ì‹¤ë¬´ ì´ì•¼ê¸° : Spring State Machine](#-ì‹¤ë¬´-ì´ì•¼ê¸°--spring-state-machine)
    - [âœ… Spring State Machineì´ë€?](#-spring-state-machineì´ë€)
    - [ğŸ’¡ ì–¸ì œ ì“°ë©´ ì¢‹ì„ê¹Œ?](#-ì–¸ì œ-ì“°ë©´-ì¢‹ì„ê¹Œ)
    - [ğŸ§© Spring State Machine ì˜ êµ¬ì„±ìš”ì†Œ](#-spring-state-machine-ì˜-êµ¬ì„±ìš”ì†Œ)
      - [ğŸ›‘ ìƒíƒœ (State)](#-ìƒíƒœ-state)
      - [ğŸš¦ì´ë²¤íŠ¸ (Event)](#ì´ë²¤íŠ¸-event)
      - [ğŸ”€ ì „ì´ (Transition)](#-ì „ì´-transition)
      - [ğŸ›¡ï¸ ê°€ë“œ (Guard)](#ï¸-ê°€ë“œ-guard)
      - [ğŸ¬ ì•¡ì…˜ (Action)](#-ì•¡ì…˜-action)
      - [ğŸ“¦ ExtendedState](#-extendedstate)
    - [ğŸ’³ ê²°ì œ ì„œë¹„ìŠ¤ ì˜ˆì œë¡œ ë³´ëŠ” Spring State Machine](#-ê²°ì œ-ì„œë¹„ìŠ¤-ì˜ˆì œë¡œ-ë³´ëŠ”-spring-state-machine)
      - [âœï¸ ë¡œì§ ì‘ì„±](#ï¸-ë¡œì§-ì‘ì„±)
      - [ğŸ§ª ë¡œì§ í…ŒìŠ¤íŠ¸](#-ë¡œì§-í…ŒìŠ¤íŠ¸)
    - [âš ï¸ Spring State Machine ë„ì… ì‹œ ê³ ë ¤í•´ì•¼ í•  ì ?](#ï¸-spring-state-machine-ë„ì…-ì‹œ-ê³ ë ¤í•´ì•¼-í• -ì )
    - [â±ï¸ ì‹¬í™” : ê²°ì œ ì„¸ì…˜ ê´€ë¦¬ ì˜ˆì œ](#ï¸-ì‹¬í™”--ê²°ì œ-ì„¸ì…˜-ê´€ë¦¬-ì˜ˆì œ)
  - [ğŸšª Outro](#-outro)
  - [ğŸ”– Reference](#-reference)

## ğŸ¤Ÿ Intro

ë‹¤ì‹œ ëŒì•„ì™”ìŠµë‹ˆë‹¤. ì—¬ì „íˆ ë°ì´í„°ë¥¼ ìƒí•˜ì°¨ í•˜ê³  ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì¡ë¶€ ì†ìš°ì§„ì…ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine) ë¼ëŠ” ê°œë…ì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.

Computer Science, í”íˆ ë§í•˜ëŠ” ì»´í“¨í„°ê³µí•™ì„ ì „ê³µ í•œ ì‚¬ëŒì—ê²ŒëŠ” ì˜¤í† ë§ˆíƒ€ í˜¹ì€ ì»´íŒŒì¼ëŸ¬ ì´ë¡  ì‹œê°„ì— ë“¤ì–´ë³´ì…¨ì„ì§€ë„ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. ì „ê³µì‹œê°„ì— ì°¸ ì¬ë°Œê²Œ ë“¤ì—ˆì§€ë§Œ ë§‰ìƒ ë‹¹ì‹œì˜ ì§€ì‹ìœ¼ë¡œ ëª¨ë“  ê±¸ ì´í•´í•˜ê¸´ ì–´ë ¤ì› ë˜ ê¸°ì–µì´ ë‚©ë‹ˆë‹¤.

ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œëŠ” ì´ `ìœ í•œ ìƒíƒœ ê¸°ê³„` ì— ëŒ€í•œ ì»´í“¨í„°ê³µí•™ ì´ë¡  ì´ì•¼ê¸°ì™€ ì‹¤ë¬´ ì‚¬ë¡€ì— ëŒ€í•´ ì´ì•¼ê¸° í•´ ë³¼ê¹Œ í•©ë‹ˆë‹¤.

ê°œë°œì ì™¸ì—ë„ ë§ì€ ì‚¬ëŒë“¤ì´ ì¬ë°Œê²Œ ì½ì„ ìˆ˜ ìˆë„ë¡ ìµœëŒ€í•œ ì½”ë“œëŠ” ë°°ì œí•˜ê³  ì‘ì„± í•´ ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. (ë§ ì²˜ëŸ¼ ì‰½ê²Œ ì§€ì¼œì§€ì§„ ì•Šì§€ë§Œ...ë…¸ë ¥ í•´ ë³´ê² ìŠµë‹ˆë‹¤. ğŸ¤Ÿ)

ê·¸ëŸ¼ í•œë²ˆ ìˆ¨ ê¾¹ ì°¸ê³  ë”¥ ë‹¤ì´ë¸Œ! ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.

---

## ğŸ§ ìƒíƒœ (State) ì— ëŒ€í•œ ì´í•´

ìš°ì„  ìƒíƒœ ë¼ëŠ” ê²ƒì— ëŒ€í•´ í•œë²ˆ ì§šê³  ë„˜ì–´ê°€ê² ìŠµë‹ˆë‹¤. ìƒíƒœë¼ëŠ” ë‹¨ì–´ì˜ ì‚¬ì „ì  ì •ì˜ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

> ìƒíƒœ, ï§ºæ…‹ ì‚¬ë¬¼Â·í˜„ìƒì´ ì²˜í•´ ìˆëŠ” í˜•í¸ì´ë‚˜ ëª¨ì–‘.

ì†Œí”„íŠ¸ì›¨ì–´ì˜ ì„¸ê³„ì—ì„œ ì‚¬ë¬¼ì´ë¼ê³  í•  ìˆ˜ ìˆëŠ” ê±´ ì‘ì€ ë°ì´í„° ë‹¨ìœ„ í•˜ë‚˜ ë¶€í„° í”íˆ ê°ì²´ë¼ê³  ë¶€ë¥´ëŠ” ì˜ë¯¸ ìˆëŠ” ë°ì´í„° ë©ì–´ë¦¬ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°„ë‹¨íˆ ì‹ í˜¸ë“± ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ìƒê° í•´ ë´ë„ ì‹ í˜¸ê°€ 3 ê°œì˜ ìƒíƒœë¡œ ë‚˜ë‰˜ì£ . ë¹¨ê°„ë“±, ë…¸ë€ë“±, ì´ˆë¡ë“± ì´ë ‡ê²Œìš”.

> ğŸ§ : ì•„ë‹ˆ ìš°ë¦¬ëŠ” ì‹ í˜¸ë“±ì— ìƒíƒœê°€ 4ê°œê°€ ìˆëŠ”ë°ìš”?  
> ğŸ˜Š : ...ğŸ‘ŠğŸ‘Š

ìƒíƒœëŠ” ê³„ì†í•´ì„œ ë³€í•˜ëŠ” íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ë§Œì•½ ë³€í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ê·¸ê±´ ìƒíƒœë¼ê³  ë¶€ë¥´ì§€ ì•Šì•„ìš”. ìƒìˆ˜ (Constant) ë¼ê³  ë¶€ë¥´ì£ . ì‹ í˜¸ë“±ì´ ìƒíƒœê°€ ë³€í•˜ì§€ ì•ŠëŠ” ìƒíƒœë¼ë©´ ì‹ í˜¸ë“±ìœ¼ë¡œì¨ ì˜ë¯¸ê°€ ì—†ì£ .

---

## ğŸ§  ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine) ì— ëŒ€í•œ ì´í•´

ìƒíƒœëŠ” ê³ ì • ë˜ì–´ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. ë³€í•˜ëŠ” íŠ¹ì„±ì„ ê°€ì§€ê³  ìˆëŠ”ë°, ì´ ìƒíƒœê°€ ë³€í•˜ëŠ” ì¡°ê±´ì„ í”íˆ ë§í•´ì„œ ì´ë²¤íŠ¸ë¼ê³  í•©ë‹ˆë‹¤.

> ğŸ¥³ : ë­ìš” ì´ë²¤íŠ¸? ì§‘ ì•ì— ì‹ìì¬ ë§ˆíŠ¸ì—ì„œ íƒ€ì„ ì„¸ì¼ì„ í•œë‹¤êµ¬ìš”?  
> ğŸ˜Š : ğŸ‘Š... ê·¸ë˜ìš” ê·¸ê²ƒë„ ë§ê¸´ í•©ë‹ˆë‹¤. í•´ë‹¹ ì¡°ê±´ì— ì˜í•´ ì œ ì§€ê°‘ì´ ì—´ë¦¬ë‹ˆê¹Œìš”.

ì‹ í˜¸ë“±ì˜ ìƒíƒœê°€ ë³€í•˜ëŠ” ì¡°ê±´ìœ¼ë¡œëŠ” ì‹œê°„ì´ ìˆê² ì£ . ì „ì²´ ì‚¬ì´í´ì„ ë§Œì•½ 5ë¶„ìœ¼ë¡œ ì¡ëŠ”ë‹¤ë©´, ê·¸ ì¤‘ 3ë¶„ 55ì´ˆëŠ” ë¹¨ê°„ë¶ˆ, 5ì´ˆê°„ ë…¸ë€ë¶ˆ, 1ë¶„ê°„ ì´ˆë¡ë¶ˆì„ í• ë‹¹í•˜ëŠ” ì‹ìœ¼ë¡œ ì¡°ê±´ì„ ê±¸ê±°ì—ìš”. 5ë¶„ì´ ëë‚˜ë©´ ë‹¤ì‹œ ì‚¬ì´í´ì„ ëŒë¦´ê²ë‹ˆë‹¤.

ìƒíƒœê°€ ì´ë²¤íŠ¸ì— ë”°ë¼ ë³€í•˜ëŠ” ê²ƒì„ **ìƒíƒœì˜ ì „ì´ (Transition)** ë¼ê³  ë§í•©ë‹ˆë‹¤. ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì–´ë–¤ ìƒíƒœë¡œ ë°”ë€Œì–´ì•¼ í•˜ëŠ” ì§€ì— ëŒ€í•œ ìˆ˜í•™ì  ëª¨ë¸ì„ 'ìœ í•œ ìƒíƒœ ê¸°ê³„ (Finite State Machine)' ë˜ëŠ” 'ìœ í•œ ì˜¤í† ë§ˆí†¤ (Finite Automaton)' ì´ ë¼ê³  í•©ë‹ˆë‹¤. **ìˆ˜í•™ì´ë¼ëŠ” ë§ì´ ë‚˜ì™€ì„œ í ì¹« í•˜ì‹  ë¶„ë“¤ì€ ê±±ì • ë§ˆì„¸ìš”. ì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„œ ìˆ«ìëŠ” ìµœëŒ€í•œ ë°°ì œ í• í…Œë‹ˆê¹Œìš”.**

ì˜¤í† ë§ˆíƒ€ ë¼ëŠ” ë‹¨ì–´ëŠ” 'ì •í•´ì§„ ê·œì¹™ì— ë”°ë¼ ì…ë ¥ì„ ì½ìœ¼ë©´ì„œ ë‚´ë¶€ì˜ ìƒíƒœë¥¼ ë°”ê¾¸ê³  ê²°ê³¼ë¥¼ ì¶œë ¥í•˜ëŠ” ê¸°ê³„ì˜ ìˆ˜í•™ì  ëª¨ë¸' ì´ë¼ëŠ” ì˜ë¯¸ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤. 'ìë™'ì„ ì˜ë¯¸í•˜ëŠ” ê·¸ë¦¬ìŠ¤ì–´ 'Î±á½Ï„ÏŒÎ¼Î±Ï„Î±'ì—ì„œ ìœ ë˜í–ˆì£ .

---

### ğŸ§© í•µì‹¬ ìš”ì†Œ

FSMì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„±ìš”ì†Œë¥¼ ê°€ì§‘ë‹ˆë‹¤:

- State (ìƒíƒœ) : ì‹œìŠ¤í…œì´ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ìœ í•œí•œ ìƒíƒœë“¤
- Event/Input (ì…ë ¥) : ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ìê·¹
- Transition (ì „ì´) : ì…ë ¥ì— ë”°ë¼ ìƒíƒœê°€ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ì— ëŒ€í•œ ì •ì˜
- Initial State (ì´ˆê¸° ìƒíƒœ)
- Final/Accepting State (ì¢…ë£Œ ìƒíƒœ) (ì˜µì…˜)

```plainText
ì˜ˆ: ì»¤í”¼ ì£¼ë¬¸ FSM
[ì£¼ë¬¸ëŒ€ê¸°] --ì£¼ë¬¸â†’ [ì œì¡°ì¤‘] --ì™„ë£Œâ†’ [í”½ì—…ëŒ€ê¸°] --ìˆ˜ë ¹â†’ [ì™„ë£Œ]
```

### ğŸ¯ ì™œ ìœ í•œí•´ì•¼ í• ê¹Œìš”??

ìƒíƒœê°€ ë¬´í•œí•˜ë‹¤ë©´ ì‹œìŠ¤í…œì€ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤. ì„¤ê³„ì™€ ë””ë²„ê¹…ì´ ì–´ë ¤ì›Œì§€ê³ , ë™ì‘ì„ ì¦ëª…í•˜ê¸°ë„ ì–´ë µì£ . ì‹ í˜¸ë“±ì˜ ìƒíƒœê°€ ë¬´í•œì´ë¼ê³  ìƒê° í•´ ë³¼ê¹Œìš”?

> ğŸš• : ì €ê¸°ìš” ì•„ì €ì”¨! ë¹¨ë¦¬ë¹¨ë¦¬ ì•ˆê°€ìš”?  
> ğŸš— : ì•„ë‹ˆ #$^#%$& ì•¼ ì‹ í˜¸ë“±ì´ ì´ìƒí•˜ë‹¤ê³ !

ìœ í•œ ìƒíƒœë€ ë…¼ë¦¬ì ìœ¼ë¡œ ì™„ì „íˆ ì •ì˜í•  ìˆ˜ ìˆëŠ” ìƒíƒœ ì§‘í•©ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤.

## ğŸ“š ì»´í“¨í„°ê³µí•™ ì´ë¡  ì´ì•¼ê¸° : ì˜¤í† ë§ˆíƒ€ ì´ë¡ ê³¼ íŠœë§ ë¨¸ì‹ 

### ğŸ“ ê°œìš”

> ì—¬ë‹´ì´ì§€ë§Œ ì»´ê³µì´ ì½”ë”© ë°°ìš°ëŠ” ê³³ì´ë¼ ì˜¤í•´í•˜ì‹œëŠ” ë¶„ë“¤ì´ ê°€ë” ìˆìœ¼ì‹­ë‹ˆë‹¤...
>
> ë¬¼ë¡  ê³¼ íŠ¹ì„±ìƒ ì½”ë”©ì„ ë§ì´ í•˜ê¸´ í•˜ì£ . ê°œì¸ì ìœ¼ë¡  ì½”ë”©ì„ ëŒ€í•™ì—ì„œ ì§ì ‘ì ìœ¼ë¡œ ë°°ìš´ ê±´ 1í•™ë…„ë•Œê°€ ë§ˆì§€ë§‰ì´ì—ˆë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤.  
> 2í•™ë…„ ë•Œ ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë° ìˆ˜ì—…ì„ ë‹¤ì‹œ ë˜ì§šì–´ë³´ë©´ Java ë¼ëŠ” ê°ì²´ì§€í–¥ ì–¸ì–´ì˜ ì² í•™ì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ ë” í•˜ì…¨ë˜ ê²ƒ ê°™ìŠµë‹ˆë‹¤. í•­ìƒ ì˜› ê¸°ì–µì€ ë’¤ëŠ¦ê²Œ ë– ì˜¬ë ¤ë³´ë©´ ê·¸ë•Œ ì™œ êµìˆ˜ë‹˜ì´ ê·¸ë ‡ê²Œ ì„¤ëª…í–ˆëŠ” ì§€ ì´í•´ê°€ ê°€ê³¤ í•˜ì£ ...
>
> ì œì„ìŠ¤ ê³ ìŠ¬ë§ ë¹ ëŒì´ì—ˆë˜ êµìˆ˜ë‹˜ê»˜ì„œ ë§ì”€í•˜ì…¨ì£ .  
> ğŸ‘¨â€ğŸ¦² : ì–¸ì  ê°€ ì´ ì•„ì €ì”¨ì²˜ëŸ¼ ë˜ê³ ì‹¶ì€ ë‚ ì´ ì˜¬ê²ë‹ˆë‹¤ í—ˆí—ˆ...

ì»´í“¨í„°ëŠ” ìš°ë¦¬ê°€ ê²Œì„ í•  ë•Œë„ ì“°ì§€ë§Œ ë³¸ì§ˆì ì¸ ëª©ì ì€ 'ë¬¸ì œë¥¼ í’€ê¸° ìœ„í•œ ë„êµ¬' ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ë ‡ë‹¤ë©´ ì´ëŸ° ì§ˆë¬¸ì„ ë˜ì§ˆ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.

> "ì»´í“¨í„°ëŠ” ë„ëŒ€ì²´ ì–´ë–¤ ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆì„ê¹Œ?"  
> "ë˜ ì–´ë–¤ ë¬¸ì œëŠ” ì»´í“¨í„°ë¡œëŠ” ì ˆëŒ€ ëª» í‘¸ëŠ” ê±¸ê¹Œ?"

ì´ëŸ° ì§ˆë¬¸ì— ë‹µí•˜ë ¤ëŠ” ë¶„ì•¼ê°€ 'ì˜¤í† ë§ˆíƒ€ ì´ë¡ (Automata Theory)' ì´ê³  ì´ë¥¼ í¬í•¨í•œ ë” í° í‹€ì´ 'ê³„ì‚° ì´ë¡  (Theory of Computation)' ì…ë‹ˆë‹¤.

ì¦‰, ìš°ë¦¬ê°€ ì»´í“¨í„°ë¡œ ë¬´ì–¸ê°€ë¥¼ ë§Œë“¤ê¸° ì „ì—,
**â€œì´ê²Œ ì»´í“¨í„°ë¡œ í•´ê²° ê°€ëŠ¥í•œ ë¬¸ì œì¸ì§€ë¶€í„° ë”°ì ¸ë³´ìâ€** ë¼ëŠ” ì§ˆë¬¸ì„ ë˜ì§€ëŠ” ì•„ì£¼ ê¸°ì´ˆì ì´ê³ ë„ ì¤‘ìš”í•œ ë¶„ì•¼ì¸ ê±°ì£ .

---

### ğŸ—ï¸ ì˜¤í† ë§ˆíƒ€ ì´ë¡  (Automata Theory) ì†Œê°œ

ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ ë“¤ì–´ê°€ë³¼ê²Œìš”. ì˜¤í† ë§ˆíƒ€ ì´ë¡ ì€ ê³„ì‚° ëŠ¥ë ¥ì´ ìˆëŠ” ê¸°ê³„ì™€ ê·¸ ê¸°ê³„ë¥¼ ì´ìš©í•´ì„œ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œë¥¼ ì—°êµ¬í•˜ëŠ” ë¶„ì•¼ì—ìš”. ë„ˆë¬´ ê¸¸ê²Œ ì´ì•¼ê¸°í•˜ë©´ ì¬ë¯¸ì—†ìœ¼ë‹ˆê¹Œ ê°„ë‹¨íˆ ì„¤ëª…í•˜ìë©´, â€˜ê¸°ê³„ê°€ ì–´ë–¤ ë¬¸ì œê¹Œì§€ í’€ ìˆ˜ ìˆì„ê¹Œ?â€™ë¥¼ ë”°ì§€ëŠ” í•™ë¬¸ì´ì—ìš”.

ì˜¤í† ë§ˆíƒ€ëŠ” ì´ì‚° ì‹œê°„ ë™ì•ˆ ì£¼ì–´ì§„ ì…ë ¥ì— ì˜ì¡´í•´ ì‘ë™í•˜ëŠ” ìˆ˜í•™ì ì¸ ê¸°ê³„ë¼ê³  ìœ„í‚¤ë°±ê³¼ì— ì„¤ëª… ë˜ì–´ìˆì–´ìš”. ì—¬ê¸°ì„œ `ì´ì‚°` ì´ë¼ëŠ” ê°œë…ì´ ì¤‘ìš”í•œë°, `ì´ì‚°` ì€ ì—°ì†ì ì´ì§€ ì•Šê³  ë¶„ë¦¬ë˜ì–´ ìˆë‹¤ëŠ” ì˜ë¯¸ì—ìš”.

ìš°ë¦¬ ì£¼ì œê°€ ë”¥ë‹¤ì´ë¸Œë‹ˆ ì¢€ ë” ê¹Šê²Œ ì„¤ëª…í•˜ê³  ë„˜ì–´ê°€ìë©´, ì•„ë‚ ë¡œê·¸ì™€ ë””ì§€í„¸ì˜ ê´€ê³„ë¥¼ ìƒê° í•´ ë³´ë©´ ì´í•´í•˜ê¸° ì¢€ ë” ìˆ˜ì›” í•©ë‹ˆë‹¤.

ì•„ë‚ ë¡œê·¸ëŠ” ì—°ì†ì ì¸ ê°’ì„ ê°€ì§€ì£ . ë‹¹ì¥ ì±…ìƒ ìœ„ì— ìˆëŠ” ì•„ë‚ ë¡œê·¸ ì‹œê³„ì˜ ì´ˆì¹¨ì€ ë§¤ë„ëŸ½ê²Œ ì›€ì§ì´ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ê°„ ê°’ì€ ë¬´í•œíˆ ì¡´ì¬í•  ìˆ˜ ìˆì–´ìš”. ê·¸ë˜ì„œ 3ì´ˆì™€ 4ì´ˆ ì‚¬ì´ ì–´ë”˜ê°€ ë¼ëŠ” ì• ë§¤í•œ ìˆœê°„ë„ ì¡´ì¬í•  ìˆ˜ ìˆì£ .

í•˜ì§€ë§Œ ë””ì§€í„¸ì˜ ì„¸ê³„ëŠ” ë‹¤ë¦…ë‹ˆë‹¤. 3ì´ˆ, 4ì´ˆ ê°ê°ì˜ ë‹¨ê³„ì˜ ê°’ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤. ì¤‘ê°„ì— ê°’ì´ ë¬´í•œíˆ ì¡´ì¬í•˜ë ¤ë©´ í•  ìˆ˜ ìˆê² ì§€ë§Œ, 3.333333333ì´ˆ ë“± ì‹¤ìˆ˜ì˜ ë²”ìœ„ì—ì„œ ëŠì–´ì§ˆ ìˆ˜ ë°–ì— ì—†ìŠµë‹ˆë‹¤.

ì»´í“¨í„°ì—ì„œ ë³´ëŠ” ëª¨ë“  ê°’ë“¤ í•˜ë‚˜í•˜ë‚˜ëŠ” ì´ì‚°ì ì¸ ì •ë³´ì…ë‹ˆë‹¤. í‚¤ë³´ë“œ ì…ë ¥ë¶€í„° ì‹¤ìˆ˜ ê°’ í•˜ë‚˜ ê¹Œì§€ë„ ë§ì´ì£ . ì»´í“¨í„°ê°€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê³  ë‹¤ë£¨ëŠ” ë°©ì‹ì´ ê·¸ë ‡ìŠµë‹ˆë‹¤. ë©”ëª¨ë¦¬ì— ì‹¤ìˆ˜ ê°’ í•˜ë‚˜ë¥¼ ì €ì¥í•œë‹¤ê³  ê°€ì • í•´ ë³´ë©´ ê²°êµ­ ì–´ëŠ ì •ë„ ì‹œì ì—ì„œ ëŠì–´ì§ˆ ìˆ˜ ë°–ì— ì—†ì–´ìš”. ì™œëƒë©´ ì»´í“¨í„°ì˜ í•˜ë“œì›¨ì–´ì˜ ìš©ëŸ‰ì€ í•œê³„ê°€ ìˆìœ¼ë‹ˆê¹Œìš”.

ì˜¤í† ë§ˆíƒ€ëŠ” ë‹¨ê³„ë³„ë¡œ í•˜ë‚˜ì˜ ì…ë ¥ì„ ë°›ì•„ ì²˜ë¦¬í•©ë‹ˆë‹¤. í•œ ì…ë ¥ì„ ë°›ê³  ìƒíƒœë¥¼ ë°”ê¾¸ê³ , ë‹¤ì‹œ ì…ë ¥ì„ ë°›ëŠ” ë“± ëŠì–´ì§„ ì‹œê°„ ì†ì—ì„œ ì›€ì§ì´ëŠ” ê¸°ê³„ì…ë‹ˆë‹¤. ë­”ê°€ ìš°ë¦¬ê°€ ì‘ì„±í•˜ê³  ìˆëŠ” ì†Œí”„íŠ¸ì›¨ì–´ì™€ ëŠë‚Œì´ ë¹„ìŠ·í•˜ì£ ?

---

### ğŸ§® ê³„ì‚° ì´ë¡  (Theory of Computation)

ê³„ì‚° ì´ë¡ ì€ í¬ê²Œ ì„¸ ê°€ì§€ ì¤„ê¸°ë¡œ ë‚˜ë‰©ë‹ˆë‹¤.

| ë¶„ì•¼                 | ë‹¤ë£¨ëŠ” ì§ˆë¬¸                            | ì˜ˆì‹œ                        |
| -------------------- | -------------------------------------- | --------------------------- |
| **ì˜¤í† ë§ˆíƒ€ ì´ë¡ **    | ì–´ë–¤ ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆëŠ”ê°€?              | ì •ê·œ í‘œí˜„ì‹, ìƒíƒœ ê¸°ê³„      |
| **ê³„ì‚° ê°€ëŠ¥ì„± ì´ë¡ ** | ì–´ë–¤ ë¬¸ì œëŠ” ì ˆëŒ€ë¡œ ëª» í‘¸ëŠ”ê°€?          | ì •ì§€ ë¬¸ì œ (Halting Problem) |
| **ë³µì¡ë„ ì´ë¡ **      | ì–¼ë§ˆë‚˜ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ í’€ ìˆ˜ ìˆëŠ”ê°€? | NP ë¬¸ì œ, ì•Œê³ ë¦¬ì¦˜ ì„±ëŠ¥ ë¶„ì„ |

ê³„ì‚° ì´ë¡ ì€ ë‹¨ìˆœíˆ 'ë¬¸ì œë¥¼ í‘¼ë‹¤' ì—ì„œ ë©ˆì¶”ì§€ ì•Šê³  í’€ ìˆ˜ ìˆëŠ”ì§€, ì–¼ë§ˆë‚˜ ë¹ ë¥´ê²Œ í’€ ìˆ˜ ìˆëŠ” ì§€, ì•„ì˜ˆ ëª» í‘¸ëŠ” ê±´ ì—†ëŠ”ì§€ ê¹Œì§€ ì‚´í´ë´…ë‹ˆë‹¤.

---

### ğŸ–¨ï¸ íŠœë§ ë¨¸ì‹  (Turing Machine)

ì»´ê³µ ì „ê³µìë¼ë©´ í•œ ë²ˆì¯¤ì€ ë“¤ì—ˆì„ ì´ë¦„ì´ì£ .
ì»´í“¨í„°ì˜ ì•„ë²„ì§€ë¼ê³  ë¶ˆë¦¬ëŠ” ì•¨ëŸ° íŠœë§(Alan Turing)ì´ 1930ë…„ëŒ€ì— ê³ ì•ˆí•œ ê°œë…ì…ë‹ˆë‹¤.
ìš°ë¦¬ê°€ ì§€ê¸ˆ ì“°ëŠ” ì»´í“¨í„°ì™€ëŠ” ë‹¤ë¥´ê²Œ, íŠœë§ ë¨¸ì‹ ì€ **í˜„ì‹¤ì— ì¡´ì¬í•˜ëŠ” ê¸°ê³„**ëŠ” ì•„ë‹ˆì—ìš”.
í•˜ì§€ë§Œ ì´ë¡ ì ìœ¼ë¡œëŠ” **ëª¨ë“  ì»´í“¨í„°ê°€ íŠœë§ ë¨¸ì‹ ì„ í‰ë‚´ ë‚´ê³  ìˆë‹¤**ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŠœë§ ë¨¸ì‹ ì€ êµ‰ì¥íˆ ë‹¨ìˆœí•œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆì–´ìš”.
í•˜ì§€ë§Œ ì´ ë‹¨ìˆœí•œ êµ¬ì¡°ë§Œìœ¼ë¡œë„ ìš°ë¦¬ê°€ ì‘ì„±í•˜ëŠ” ëŒ€ë¶€ë¶„ì˜ í”„ë¡œê·¸ë¨ì„ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŠœë§ ë¨¸ì‹ ì€ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„±ìš”ì†Œë¡œ ë˜ì–´ ìˆì–´ìš”:

- **ë¬´í•œíˆ ê¸´ í…Œì´í”„**: ë°ì´í„°ë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” ê³µê°„ì´ì—ìš”. ë©”ëª¨ë¦¬ ê°™ì€ ì—­í• ì„ í•©ë‹ˆë‹¤.
- **í—¤ë“œ(Head)**: í…Œì´í”„ ìœ„ë¥¼ ì™”ë‹¤ê°”ë‹¤ í•˜ë©´ì„œ ë°ì´í„°ë¥¼ ì½ê±°ë‚˜ ì”ë‹ˆë‹¤.
- **ìƒíƒœ(State)**: í˜„ì¬ íŠœë§ ë¨¸ì‹ ì´ ì–´ë–¤ â€˜ëª¨ë“œâ€™ì— ìˆëŠ”ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ì˜¤í† ë§ˆíƒ€ì—ì„œ ë°°ìš´ ìƒíƒœì™€ ê°™ì€ ê°œë…ì…ë‹ˆë‹¤.
- **ì „ì´ í•¨ìˆ˜**: í˜„ì¬ ìƒíƒœì™€ í…Œì´í”„ì˜ ë¬¸ìë¥¼ ë³´ê³ , ë¬´ì—‡ì„ ì“¸ì§€, ì–´ë””ë¡œ ì›€ì§ì¼ì§€, ì–´ë–¤ ìƒíƒœë¡œ ì „ì´í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ê·œì¹™ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì•„ì£¼ ë‹¨ìˆœí•œ íŠœë§ ë¨¸ì‹  í•˜ë‚˜ë¥¼ ìƒê°í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:
â€˜0â€™ì´ ì—°ì†ìœ¼ë¡œ ì£¼ì–´ì§„ í…Œì´í”„ì—ì„œ, ì²˜ìŒìœ¼ë¡œ ë‚˜ì˜¤ëŠ” â€˜1â€™ì„ ë§Œë‚˜ë©´ ì‘ì—…ì„ ë©ˆì¶”ëŠ” ê¸°ê³„.
ì´ê±´ ì•„ì£¼ ê°„ë‹¨í•˜ì§€ë§Œ, ê·¸ ë™ì‘ì„ ìƒíƒœì™€ ì…ë ¥, ì¶œë ¥, ì´ë™ìœ¼ë¡œ ìª¼ê°œë³´ë©´ íŠœë§ ë¨¸ì‹ ì˜ êµ¬ì¡°ë¥¼ ë”°ë¥´ê³  ìˆìŒì„ ì•Œ ìˆ˜ ìˆì–´ìš”.

> ì´ëŸ° ë°©ì‹ì€ ì‚¬ì‹¤ ìš°ë¦¬ê°€ ì‘ì„±í•˜ëŠ” ë°˜ë³µë¬¸(while loop)ì´ë‚˜ ì¡°ê±´ë¬¸(if-else)ê³¼ êµ‰ì¥íˆ ë‹®ì•„ ìˆì–´ìš”. ì»´íŒŒì¼ëŸ¬ ì…ì¥ì—ì„œ ë³´ë©´, íŠœë§ ë¨¸ì‹ ì€ ì•„ì£¼ ë‹¨ìˆœí•œ êµ¬ì¡°ì§€ë§Œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ë…¼ë¦¬ íë¦„ì„ ê±°ì˜ ëª¨ë‘ í‘œí˜„í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ì£ .

---

#### â“ ê·¸ëŸ¼ ì´ê±¸ ì™œ ë§Œë“¤ì—ˆì„ê¹Œ?

íŠœë§ì€ **â€˜ë¬´ìŠ¨ ì¼ì´ë“  ìë™ìœ¼ë¡œ ê³„ì‚°í•˜ëŠ” ê¸°ê³„â€™ë¥¼ ìƒìƒ**í–ˆìŠµë‹ˆë‹¤.
ê·¸ë¦¬ê³  ì´ ê¸°ê³„ê°€ í’€ ìˆ˜ ìˆëŠ” ë¬¸ì œì˜ í•œê³„ê°€ **ê³„ì‚° ê°€ëŠ¥í•œ ë¬¸ì œ(computable problem)** ì˜ ì •ì˜ê°€ ë  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆì£ .

ê·¸ë˜ì„œ ì´ëŸ° ê¸°ì¤€ì´ ìƒê¹ë‹ˆë‹¤:

> â€œíŠœë§ ë¨¸ì‹ ìœ¼ë¡œ í’€ ìˆ˜ ìˆë‹¤ë©´, ì´ ë¬¸ì œëŠ” ê³„ì‚° ê°€ëŠ¥í•˜ë‹¤.â€
> ë°˜ëŒ€ë¡œ, â€œíŠœë§ ë¨¸ì‹ ìœ¼ë¡œë„ ëª» í‘¸ëŠ” ë¬¸ì œëŠ” ê³„ì‚° ë¶ˆê°€ëŠ¥í•œ ë¬¸ì œë‹¤.â€

ì´ ê¸°ì¤€ì€ ì§€ê¸ˆë„ ê³„ì‚° ì´ë¡ ì˜ í•µì‹¬ ì›ì¹™ì´ì—ìš”.
ì •ì§€ ë¬¸ì œ(Halting Problem) ê°™ì€ ê³ ì „ì ì¸ ì´ìŠˆë„, ê²°êµ­ íŠœë§ ë¨¸ì‹ ìœ¼ë¡œ **í’€ ìˆ˜ ìˆëŠ”ê°€/ì—†ëŠ”ê°€**ë¥¼ ë”°ì§€ë©° ì •ì˜ë©ë‹ˆë‹¤.

> ì˜ˆë¥¼ ë“¤ì–´ â€˜ì´ í”„ë¡œê·¸ë¨ì´ ë¬´í•œ ë£¨í”„ì— ë¹ ì§ˆì§€ ì•„ë‹ì§€â€™ë¥¼ ìë™ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ë¬¸ì œëŠ” íŠœë§ ë¨¸ì‹ ìœ¼ë¡œë„ í•´ê²°í•  ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ ì •ì§€ ë¬¸ì œ(Halting Problem)ì£ .

---

#### âš–ï¸ ìœ í•œìƒíƒœê¸°ê³„ vs íŠœë§ ë¨¸ì‹ 

ìœ í•œ ìƒíƒœ ê¸°ê³„ê°€ â€˜ê¸°ì–µ ì—†ì´ íŒë‹¨í•˜ëŠ” ê¸°ê³„â€™ë¼ë©´, íŠœë§ ë¨¸ì‹ ì€ â€˜ê¸°ì–µì„ í†µí•´ ë³µì¡í•œ íë¦„ì„ ì´í•´í•˜ëŠ” ê¸°ê³„â€™ì…ë‹ˆë‹¤. ë§ˆì¹˜ ê³„ì‚°ê¸°ì™€ ì—‘ì…€ ì •ë„ì˜ ì°¨ì´ë„ê¹Œìš”?

í•µì‹¬ì€ **ê¸°ì–µ ëŠ¥ë ¥**ì´ì—ìš”. í•œë²ˆ ì •ë¦¬ í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

| í•­ëª©          | ìœ í•œ ìƒíƒœ ê¸°ê³„(FSM)                      | íŠœë§ ë¨¸ì‹                  |
| ------------- | ---------------------------------------- | ------------------------- |
| **ê¸°ì–µ ê³µê°„** | ì—†ìŒ ë˜ëŠ” ë§¤ìš° ì œí•œì  (í˜„ì¬ ìƒíƒœë§Œ ê¸°ì–µ) | ë¬´í•œ í…Œì´í”„ ì‚¬ìš© ê°€ëŠ¥     |
| **ê³„ì‚° ëŠ¥ë ¥** | ì •ê·œ ì–¸ì–´ë§Œ ì²˜ë¦¬ ê°€ëŠ¥                    | ì´ë¡ ì ìœ¼ë¡œ ëª¨ë“  ê³„ì‚° ê°€ëŠ¥ |
| **í˜„ì‹¤ ì ìš©** | ì •ê·œì‹, ì–´íœ˜ ë¶„ì„ê¸° ë“±                   | ì»´í“¨í„° ìì²´ì˜ ìˆ˜í•™ì  ëª¨ë¸ |
| **ë³µì¡ë„**    | ë‹¨ìˆœ                                     | ë³µì¡í•˜ì§€ë§Œ ê°•ë ¥í•¨         |

---

ê²°êµ­ íŠœë§ ë¨¸ì‹ ì€ ìš°ë¦¬ê°€ ì˜¤ëŠ˜ë‚  ì‚¬ìš©í•˜ëŠ” ì»´í“¨í„°ì˜ **ìˆ˜í•™ì  ëª¨ë¸**ì´ì,
**"ì»´í“¨í„°ê°€ ì–´ë””ê¹Œì§€ í•  ìˆ˜ ìˆëŠ”ì§€"** ë¥¼ ê·œì •í•´ì£¼ëŠ” ê°€ì¥ ì¤‘ìš”í•œ ê°œë…ì´ì—ìš”.

---

## âš™ï¸ ì»´í“¨í„°ê³µí•™ ì´ë¡  ì´ì•¼ê¸° : ì»´íŒŒì¼ëŸ¬

### ğŸ§¬ ì»´íŒŒì¼ëŸ¬ ì´ë¡  (Compiler Theory)

ì»´íŒŒì¼ëŸ¬ëŠ” ìš°ë¦¬ê°€ ì‘ì„±í•œ ê³ ìˆ˜ì¤€ ì–¸ì–´(Java, Kotlin, C ë“±)ë¥¼ ì»´í“¨í„°ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ì €ìˆ˜ì¤€ ì–¸ì–´(ê¸°ê³„ì–´ ë“±)ë¡œ ë²ˆì—­í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.
ê·¸ë¦¬ê³  ê·¸ ë‚´ë¶€ì—” ìš°ë¦¬ê°€ ì•ì„œ ì´ì•¼ê¸°í•œ ì˜¤í† ë§ˆíƒ€ ì´ë¡ ì´ ì•„ì£¼ ê¹Šì´ ë…¹ì•„ ìˆì£ .

ì´ë²ˆ ì„¸ì…˜ì—ì„œëŠ” ì»´íŒŒì¼ëŸ¬ì˜ ë™ì‘ ë‹¨ê³„ë¥¼ ì•Œì•„ ë³´ê² ìŠµë‹ˆë‹¤. ê° ë‹¨ê³„ë³„ë¡œ ìƒíƒœì˜ íë¦„ì„ ì•Œì•„ë³´ê¸° ìœ„í•´ ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ (State Diagram) ë˜í•œ ê·¸ë ¤ë³¼ê²Œìš”.

ì»´íŒŒì¼ëŸ¬ëŠ” ì¼ë°˜ì ìœ¼ë¡œ ì•„ë˜ì™€ ê°™ì€ ë‹¨ê³„ë¡œ ë™ì‘í•©ë‹ˆë‹¤.

ë¨¼ì € ì–´íœ˜ ë¶„ì„ (Lexical Analysis) ë‹¨ê³„ì…ë‹ˆë‹¤. ì†ŒìŠ¤ ì½”ë“œë¥¼ í† í°(Token)ì´ë¼ëŠ” ìµœì†Œ ì˜ë¯¸ ë‹¨ìœ„ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.
ì—¬ê¸°ì„œ **ìœ í•œ ìƒíƒœ ê¸°ê³„(FSM)** ê°€ í™œì•½í•©ë‹ˆë‹¤. ì˜ˆë¥¼ í•˜ë‚˜ ë“¤ì–´ë³¼ê²Œìš”. `int`, ì •ìˆ˜ ìë£Œí˜• í‚¤ì›Œë“œë¥¼ ì¸ì‹í•˜ëŠ” ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì„ í•œë²ˆ ê·¸ë ¤ë³¼ê¹Œìš”?

<center>
  <img src="/static/images/blog/deepdive/deepdive-02-01.png" width="150" />
</center>

ì…ë ¥ ìŠ¤íŠ¸ë¦¼ì—ì„œ i â†’ n â†’ t ìˆœìœ¼ë¡œ ì½íˆë©´ intë¼ëŠ” í‚¤ì›Œë“œ í† í°ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤. ê·¸ ì™¸ ì…ë ¥ì´ ì˜¤ë©´ ë‹¤ë¥¸
ìƒíƒœë¡œ ì „ì´í•˜ê±°ë‚˜ ê±°ë¶€ ìƒíƒœë¡œ ì´ë™í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜ ë‹¤ë¥¸ ì˜ˆì‹œë¡œ ìˆ«ìë¥¼ ì¸ì‹í•˜ëŠ” ì˜ˆì‹œë¥¼ ë³´ê² ìŠµë‹ˆë‹¤. 12345 ì²˜ëŸ¼ ì—¬ëŸ¬ ìë¦¬ ì •ìˆ˜ë¥¼ ì¸ì‹í•˜ëŠ” ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì„ ê·¸ë ¤ ë³´ê² ìŠµë‹ˆë‹¤.

<center>
  <img src="/static/images/blog/deepdive/deepdive-02-02.png" width="300" />
</center>

í•˜ë‚˜ ì´ìƒì˜ ìˆ«ìë¥¼ ì½ìœ¼ë©´ DIGIT ìƒíƒœì— ë¨¸ë¬´ë¥´ë©° ìˆ«ìë¥¼ ê³„ì† ëˆ„ì í•©ë‹ˆë‹¤. ì´í›„ ê³µë°±ì´ë‚˜ ë‹¤ë¥¸ ê¸°í˜¸ê°€ ì˜¤ë©´ ìƒíƒœ ì¢…ë£Œë˜ê³  í† í°ì´ ë°˜í™˜ë˜ì£ .

ë‹¤ìŒìœ¼ë¡œ êµ¬ë¬¸ ë¶„ì„ (Syntax Analysis) ë‹¨ê³„ì…ë‹ˆë‹¤. ë¬¸ë²• êµ¬ì¡°ë¥¼ ë¶„ì„í•˜ì—¬ íŒŒì‹± íŠ¸ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤. **ë¬¸ë§¥ ììœ  ë¬¸ë²•(Context-Free Grammar)** ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ìŠ¤íƒ ê¸°ë°˜ ì˜¤í† ë§ˆíƒ€(PDA) ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ìŠ¤íƒì´ë¼ëŠ” ì´ë¦„ì— ë§ê²Œ ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ì— ìŒ“ì•„ë‘ì£ .

> ìŠ¤íƒì— ëŒ€í•´ ê°„ë‹¨íˆ ì„¤ëª… í•´ ì£¼ìë©´ ë°ì´í„°ë¥¼ ìŒ“ì•„ë‘ëŠ” ë°ì´í„° êµ¬ì¡° (í”íˆ ë§í•˜ëŠ” ìë£Œêµ¬ì¡°) ì…ë‹ˆë‹¤.
>
> ë¨¼ì € ë“¤ì–´ì˜¨ ë°ì´í„°ê°€ ë§ˆì§€ë§‰ì— ë‚˜ê°€ëŠ” First In Last Out (FILO) êµ¬ì¡°ë¥¼ ê°€ì§€ì£ . ìš°ë¦¬ê°€ ì´ë¶ˆì„ ê°œì–´ì„œ ìŒ“ì•„ë‘ë©´ ë§¨ ë°‘ì— ìˆëŠ” ê±¸ ë¹¼ì§„ ì•Šë“¯ì´ ìŠ¤íƒë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤.
>
> ë°ì´í„°ë¥¼ ìŒ“ëŠ” ëª…ë ¹ì„ ì¼ë°˜ì ìœ¼ë¡œ `push` ë¹¼ëŠ” ëª…ë ¹ì„ `pop` ì´ë¼ê³  í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ë³¼ê¹Œìš”? ì¤‘ì²© ê´„í˜¸ `((()))` ë¥¼ ì¸ì‹í•˜ëŠ” ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì„ ê·¸ë ¤ë³¼ê²Œìš”.

```mermaid
stateDiagram-v2
    [*] --> S0 : ì…ë ¥ ì‹œì‘
    S0 --> S0 : ( / push
    S0 --> S0 : ) / pop
    S0 --> ACCEPT : ìŠ¤íƒì´ ë¹„ì—ˆì„ ë•Œ ì…ë ¥ ì¢…ë£Œ
```

ì—¬ëŠ” ê´„í˜¸ (ë¥¼ ì½ìœ¼ë©´ ìŠ¤íƒì— push í•©ë‹ˆë‹¤. ë‹«ëŠ” ê´„í˜¸ )ë¥¼ ì½ìœ¼ë©´ ìŠ¤íƒì—ì„œ pop í•˜ì£ .

ìŠ¤íƒì´ ì •í™•íˆ ë¹„ì–´ì•¼ ACCEPT ìƒíƒœë¡œ ì§„ì… í•˜ê²Œ ë©ë‹ˆë‹¤. ìµœì¢…ì ìœ¼ë¡œ ì¤‘ì²© ê´„í˜¸ë¥¼ ì–»ê²Œ ë˜ì£ .

> ì•„ë§ˆ ì½”ë”© ê³µë¶€í•˜ì‹œëŠ” ë¶„ë“¤ì€ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œ í’€ ë•Œ ì´ëŸ° ë¬¸ì œ ë§ì´ ê²ªì–´ë³´ì…¨ì„ê²ë‹ˆë‹¤. ìŠ¤íƒì„ í™œìš©í•  ìˆ˜ ìˆëŠ” ì§€ ë¬»ëŠ” ë¬¸ì œì£ .

ë§ˆì§€ë§‰ìœ¼ë¡œ ì˜ë¯¸ ë¶„ì„, ì¤‘ê°„ ì½”ë“œ ìƒì„±, ìµœì í™” ë‹¨ê³„ì…ë‹ˆë‹¤. ì ì  ì¶”ìƒí™”ëœ í‘œí˜„ì„ ë” íš¨ìœ¨ì ì¸ ì½”ë“œë¡œ ë°”ê¾¸ê³  ìµœì¢… ëª©ì  ì½”ë“œë¡œ ë³€í™˜í•˜ì£ .

ì˜ˆë¥¼ ë“¤ì–´ `int x = 2 + 3;` ë¼ëŠ” ì½”ë“œë¥¼ ì»´íŒŒì¼ëŸ¬ê°€ ë¶„ì„í•˜ëŠ” ê³¼ì •ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª… í•´ ë³¼ê²Œìš”.

ë¨¼ì € ì–´íœ˜ ë¶„ì„ ë‹¨ê³„ì…ë‹ˆë‹¤.
ì…ë ¥ì´ int, x, =, 2, +, 3, ; ê°ê°ìœ¼ë¡œ êµ¬ë¶„ë  ìˆ˜ ìˆì£ . ê·¸ ê²°ê³¼ ì•„ë˜ì™€ ê°™ì´ í† í°ì´ ìƒì„±ë©ë‹ˆë‹¤.

`[Keyword:int], [Identifier:x], [Operator:=], [Literal:2], [Operator:+], [Literal:3]`

ë‹¤ìŒìœ¼ë¡œ êµ¬ë¬¸ ë¶„ì„ ë‹¨ê³„ì…ë‹ˆë‹¤. AST ëŠ” Abstract Syntax Tree í˜¹ì€ ë‹¨ìˆœíˆ Syntax Tree ë¼ê³  ë¶ˆë ¤ìš”. í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¡œ ì‘ì„±ëœ ì†ŒìŠ¤ ì½”ë“œì˜ ì¶”ìƒ êµ¬ë¬¸ êµ¬ì¡°ì˜ íŠ¸ë¦¬ ì…ë‹ˆë‹¤.

> ì—¬ê¸°ì„œ íŠ¸ë¦¬ê°€ ë¬´ì—‡ì¸ê°€ìš”...ë¼ê³  í•˜ì‹œëŠ” ë¶„ë“¤ì„ ìœ„í•´ ì„¤ëª… ë“œë¦¬ìë©´ ì¼ì¢…ì˜ ê·¸ë˜í”„ì…ë‹ˆë‹¤. ê°ê°ì˜ ìš”ì†Œë“¤ì´ ì—°ê²° ë˜ì–´ìˆëŠ” ë°ì´í„° êµ¬ì¡°ë¥¼ ì˜ë¯¸í•´ìš”.
>
> ë‹¨, ê°ê° êµ¬ì„±ìš”ì†Œ (ë…¸ë“œ ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.) ê°„ì˜ ì—°ê²° ê²½ë¡œë¥¼ íƒ€ê³  ê°”ì„ ë•Œ ë³¸ì¸ì—ê²Œ ëŒì•„ì˜¤ëŠ” ìˆœí™˜ì´ ì—†ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëƒ¥ ì¼ìë¡œ ì—°ê²° ëœ êµ¬ì¡°ë¼ë©´ ë‹¤ì‹œ ëŒì•„ì˜¬ ìˆ˜ ìˆê² ì£ ?

í‚¤ì›Œë“œë“¤ì— ëŒ€í•œ AST ëŠ” ì•„ë˜ì™€ ê°™ì´ ìƒì„±ë©ë‹ˆë‹¤.

```plainText
Assignment
 â”œâ”€â”€ Identifier(x)
 â””â”€â”€ Expression
     â”œâ”€â”€ Literal(2)
     â””â”€â”€ +
     â””â”€â”€ Literal(3)

```

ë‹¤ìŒìœ¼ë¡œ ì˜ë¯¸ë¶„ì„ ë‹¨ê³„ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ ê°ê° í† í°ìœ¼ë¡œ ë‚˜ëˆˆ í›„ ë…¸ë“œë“¤ì´ ì—°ê²° ëœ íŠ¸ë¦¬ë¡œ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ì˜ë¯¸ë¥¼ ë¶„ì„ í•´ ë³´ì•„ì•¼ ê² ì£ ?

- x ê°€ int ë¡œ ì„ ì–¸ ë˜ì—ˆìŠµë‹ˆë‹¤.
- 2 + 3 ì˜ ê²°ê³¼ë„ int (ì •ìˆ˜) ì…ë‹ˆë‹¤. íƒ€ì…ì´ ì¼ì¹˜í•˜ë„¤ìš”.
- ì‹¬ë³¼ í…Œì´ë¸”ì— x ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤. ì„ ì–¸ ëœ ë³€ìˆ˜ë“¤ì„ ì €ì¥í•˜ëŠ” ê³³ì´ì—ìš”.

ë‹¤ìŒìœ¼ë¡œ ì¤‘ê°„ ì½”ë“œ ìƒì„± ë‹¨ê³„ì…ë‹ˆë‹¤. ì»´íŒŒì¼ëŸ¬ëŠ” ë‹¤ì–‘í•œ í•˜ë“œì›¨ì–´ë¥¼ ì§€ì›í•´ì•¼ í•©ë‹ˆë‹¤. í”íˆ ë§í•˜ëŠ” ì»´í“¨í„° CPU ì‚¬ì–‘ ì¤‘ì— x86, ARM ê°™ì€ ìš©ì–´ê°€ ë‚˜ì˜¤ì–ì•„ìš”? ì´ëŸ° CPU ë“¤ ê°ê°ì€ ê°ìì˜ ê¸°ê³„ì–´ë¥¼ ê°€ì§€ê³ ìˆìŠµë‹ˆë‹¤. ë§ˆì¹˜ í•œêµ­ì¸, ì¤‘êµ­ì¸ì´ ì–¸ì–´ê°€ ë‹¤ë¥¸ ê²ƒ ì²˜ëŸ¼ ë§ì´ì£ . ì»´í“¨í„°ì—ê²Œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë¥¼ ë¶„ì„í•´ì„œ ê°ì CPU ê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” ê¸°ê³„ì–´ë¡œ ë°”ê¾¸ê¸° ì „ì—ëŠ” ì¤‘ê°„ ë‹¨ê³„ì˜ í‘œí˜„ìœ¼ë¡œ ë³€í™˜ í•´ì•¼ í•©ë‹ˆë‹¤.

í”íˆ ì“°ì´ëŠ” ê²Œ 3-address-code ì¸ë°, 2ê°œì˜ ì…ë ¥ìš©, 1ê°œì˜ ì¶œë ¥ìš© ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì§€ì •í•œë‹¤ê³  ì´ë ‡ê²Œ ì´ë¦„ì´ ë¶™ì—ˆì–´ìš”.

```
t1 = 2 + 3
x = t1
```

ì´ë ‡ê²Œ ìª¼ê°œë‘ë©´ 2 + 3 ì´ë¼ëŠ” í‘œí˜„ì‹ì´ ë³„ë„ì˜ ë³€ìˆ˜ (t1) ì— ë‹´ê¹ë‹ˆë‹¤. ì´í›„ ë‹¤ë¥¸ ê³³ì— ì¬ì‚¬ìš©ë˜ê±°ë‚˜ ê³„ì‚°ì„ ë¯¸ë¦¬ í•´ë²„ë¦¬ëŠ” ìµœì í™” (Constant Folding) ì„ í•  ìˆ˜ ìˆì£ .

ë‹¤ìŒìœ¼ë¡œ ìµœì í™” ë‹¨ê³„ì…ë‹ˆë‹¤. ì½”ë“œë¥¼ ë” ë¹ ë¥´ê³ , ì§§ê³ , íš¨ìœ¨ì ìœ¼ë¡œ ë§Œë“œëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤. ì•„ê¹Œ ì–¸ê¸‰í•œ Constant Folding ì„ í•´ë³¼ê¹Œìš”?

```
t1 = 2 + 3 â†’ t1 = 5
x = t1 â†’ x = 5
```

ì´ ì—°ì‚° ìì²´ë¥¼ ì»´íŒŒì¼ ê³¼ì •ì—ì„œ í•´ë²„ë ¤ì„œ í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ëŸ°íƒ€ì„ì— í•˜ì§€ ì•Šë„ë¡ ë¯¸ë¦¬ ìƒìˆ˜í™” í•´ ë‘¡ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ëª©ì ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤. ìš°ë¦¬ì˜ í”Œë«í¼ (x86, ARM) ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. ì´ ëª©ì ì½”ë“œëŠ” ì–´ì…ˆë¸”ë¦¬ë¼ê³  í•˜ëŠ”ë° CPU ì˜ ê¸°ê³„ì–´ë¥¼ ì‚¬ëŒì´ ì´í•´í•  ìˆ˜ ìˆëŠ” ì •ë„ë¡œ ë²ˆì—­ í•´ ë‘”ê±°ë¼ê³ ë§Œ ì´í•´í•´ë‘ì‹œë©´ ì¢‹ìŠµë‹ˆë‹¤.

```asm
MOV eax, 5
MOV [x], eax
```

ê°’ 5ë¥¼ eax ë ˆì§€ìŠ¤í„°ì— ë„£ê³  eax ê°’ì„ ë©”ëª¨ë¦¬ì£¼ì†Œ xì— ì €ì¥í•œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

> ì œê°€ ê¸°ê³„ì–´ ì½”ë”©ì„ í•  ì¤„ ì•„ëŠ” ê±´ ì•„ë‹™ë‹ˆë‹¤....ì—´ì‹¬íˆ ì°¾ì•„ê°€ë©° ì˜ˆì‹œë¥¼ ë§Œë“¤ì—ˆì£ .

ì´ë ‡ê²Œ ë³´ë©´ ì˜¤í† ë§ˆíƒ€ ì´ë¡ ì€ ë‹¨ìˆœíˆ í•™ë¶€ ì‹œì ˆì˜ ê³¨ì¹˜ ì•„í”ˆ ì´ë¡ ì´ ì•„ë‹ˆë¼, í˜„ëŒ€ í”„ë¡œê·¸ë˜ë°ì˜ ê°€ì¥ í•µì‹¬ì ì¸ ê¸°ìˆ ì— ì‘ìš©ë˜ê³  ìˆëŠ” êµ¬ì¡°ë¼ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## ğŸŒ± ì‹¤ë¬´ ì´ì•¼ê¸° : Spring State Machine

ì§€ê¸ˆê¹Œì§€ ìœ í•œ ìƒíƒœ ê¸°ê³„(FSM)ì˜ ê°œë…ê³¼ ê·¸ ì´ë¡ ì  ë°°ê²½, ê·¸ë¦¬ê³  ì»´íŒŒì¼ëŸ¬ì²˜ëŸ¼ FSMì´ í™œì•½í•˜ëŠ” ëŒ€í‘œì ì¸ ì˜ˆì œê¹Œì§€ ì‚´í´ë´¤ìŠµë‹ˆë‹¤.

ê·¸ëŸ°ë° ì´ë ‡ê²Œ ë¬»ëŠ” ë¶„ë“¤ë„ ê³„ì‹¤ ìˆ˜ ìˆì–´ìš”.

> "ê·¼ë°... ì´ê±¸ ìš°ë¦¬ê°€ ì‹¤ë¬´ì—ì„œ ì™œ ì¨ì•¼ í•˜ì£ ?"

ì¢‹ì€ ì§ˆë¬¸ì…ë‹ˆë‹¤. ì™œëƒí•˜ë©´ ëŒ€ë¶€ë¶„ì˜ ì‹œìŠ¤í…œì€ ìƒê°ë³´ë‹¤ í›¨ì”¬ 'ìƒíƒœ' ì¤‘ì‹¬ìœ¼ë¡œ í˜ëŸ¬ê°€ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

- ì‚¬ìš©ìê°€ ê²°ì œë¥¼ ëˆŒë €ì–´ìš”.
- ê²°ì œ ì¤‘ì— ì·¨ì†Œí•  ìˆ˜ë„ ìˆê³ , ì‹¤íŒ¨í•  ìˆ˜ë„ ìˆê³ , ì„±ê³µí•  ìˆ˜ë„ ìˆì£ .
- ì„±ê³µí•˜ë©´ ë°°ì†¡ìœ¼ë¡œ ë„˜ì–´ê°€ê³ , ë°°ì†¡ ì¤‘ì—ë„ ìƒíƒœëŠ” 'ì¶œê³  ì™„ë£Œ', 'ë°°ì†¡ ì¤‘', 'ë°°ì†¡ ì™„ë£Œ' ë“±ìœ¼ë¡œ ê³„ì† ë°”ë€Œì–´ìš”.

ì¦‰, ì‹œìŠ¤í…œ ë‚´ë¶€ì—ì„  **í˜„ì¬ ìƒíƒœ(state)** ì™€ **ì´ë²¤íŠ¸(event)** ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒ ë™ì‘ì„ ê²°ì •í•´ì•¼ í•˜ëŠ” íë¦„ì´ ë¬´ìˆ˜íˆ ë§ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ê·¸ê±¸ ê°œë°œì ì…ì¥ì—ì„œ ì½”ë“œë¡œ í’€ì–´ë³´ë©´ ì–´ë–»ê²Œ ë˜ëƒê³ ìš”?

> `if (status == "PENDING") { ... } else if (status == "PAID") { ... } else if (...)`  
> ğŸ˜¨ : ì ì  ê´´ë¬¼ì´ ë˜ì–´ê°‘ë‹ˆë‹¤â€¦  
> ğŸ : ì—¬ê¸° ìŠ¤íŒŒê²Œí‹° ì‹œí‚¤ì‹  ë¶„?  
> ë³µì¡í•˜ê²Œ ê¼¬ì¸ ì½”ë“œë¥¼ í”íˆ ìŠ¤íŒŒê²Œí‹° ì½”ë“œë¼ê³  í•©ë‹ˆë‹¤. ìœ ì§€ë³´ìˆ˜ë¥¼ í•˜ê¸° ì–´ë ¤ì›Œì§€ì£ .

ì´ì œ ì—¬ê¸°ì„œ **Spring State Machine**ì´ ë“±ì¥í•©ë‹ˆë‹¤.

---

### âœ… Spring State Machineì´ë€?

Spring State Machineì€ **ë³µì¡í•œ ìƒíƒœ ì „ì´ ë¡œì§ì„ ì„ ì–¸ì ìœ¼ë¡œ êµ¬ì„±í•  ìˆ˜ ìˆê²Œ ë„ì™€ì£¼ëŠ” í”„ë ˆì„ì›Œí¬**ì…ë‹ˆë‹¤.  
ìƒíƒœ(state), ì´ë²¤íŠ¸(event), ì „ì´(transition)ë¥¼ ì½”ë“œë¡œ ì •ì˜í•˜ê³ , ìƒíƒœê°€ ì „ì´ë  ë•Œ ì–´ë–¤ ì•¡ì…˜ì„ ì‹¤í–‰í• ì§€ ì§€ì •í•  ìˆ˜ ìˆì£ .

ì•ì„œ ì˜¤í† ë§ˆíƒ€ ì´ë¡ ì—ì„œ ë³¸ êµ¬ì„±ìš”ì†Œì™€ ë¹„êµí•´ë³´ë©´ ê±°ì˜ ë˜‘ê°™ìŠµë‹ˆë‹¤.

| ì˜¤í† ë§ˆíƒ€ êµ¬ì„± ìš”ì†Œ  | Spring State Machine ëŒ€ì‘ ê°œë… |
| ------------------- | ------------------------------ |
| ìƒíƒœ (State)        | ìƒíƒœ ì—´ê±°í˜• (enum) ë˜ëŠ” ë¬¸ìì—´ |
| ì…ë ¥/ì´ë²¤íŠ¸ (Event) | ì „ì´ íŠ¸ë¦¬ê±°ìš© ì´ë²¤íŠ¸           |
| ì „ì´ (Transition)   | `source`, `target`, `event`    |
| ì „ì´ ì¡°ê±´/ì•¡ì…˜      | `guard`, `action` ë©”ì„œë“œ       |

ì¦‰, í•™ë¶€ ì‹œì ˆ ì–´ë µê²Œ ë°°ìš´ ì˜¤í† ë§ˆíƒ€ ì´ë¡ ì´,  
**ì‹¤ì œ ì„œë¹„ìŠ¤ì˜ ë³µì¡í•œ ìƒíƒœ íë¦„ì„ ëª…í™•í•˜ê³  í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•œ ì½”ë“œë¡œ ë§Œë“¤ê¸° ìœ„í•œ ê°•ë ¥í•œ ë¬´ê¸°**ë¡œ ì¬ë“±ì¥í•˜ëŠ” ê²ë‹ˆë‹¤.

---

### ğŸ’¡ ì–¸ì œ ì“°ë©´ ì¢‹ì„ê¹Œ?

Spring State Machineì€ ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì—ì„œ íŠ¹íˆ ìœ ìš©í•©ë‹ˆë‹¤.

- ìƒíƒœê°€ 3~4ê°œ ì´ìƒì´ê³ , ê° ìƒíƒœë§ˆë‹¤ **ì´ë²¤íŠ¸ ì¡°ê±´ì´ë‚˜ í›„ì²˜ë¦¬ ë¡œì§ì´ ì¡´ì¬**í•  ë•Œ
- ìƒíƒœ ì „ì´ê°€ ëª…í™•í•œ í”„ë¡œì„¸ìŠ¤ (ê²°ì œ, ì£¼ë¬¸, ë°°ì†¡, ìŠ¹ì¸, ì¸ì¦ ë“±)ë¥¼ êµ¬í˜„í•  ë•Œ
- íë¦„ í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš´ `if-else` ì§€ì˜¥ì—ì„œ ë²—ì–´ë‚˜ê³  ì‹¶ì„ ë•Œ
- ìƒíƒœì— ë”°ë¼ **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë¶„ê¸°ë˜ëŠ” ê²½ìš°ê°€ ìì£¼ ë³€ê²½**ë  ë•Œ

---

### ğŸ§© Spring State Machine ì˜ êµ¬ì„±ìš”ì†Œ

ì¢€ ë” êµ¬ì²´ì ìœ¼ë¡œ Spring State Machine ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ì˜¤í† ë§ˆíƒ€ì˜ êµ¬ì„±ìš”ì†Œì™€ ëŒ€ì‘ë˜ëŠ” í‚¤ì›Œë“œë“¤ì´ ìˆëŠ” ê±´ ì´í•´í–ˆì§€ë§Œ, ìš°ë¦¬ê°€ ì´ ê¸°ìˆ ì„ ì¨ë¨¹ê¸° ìœ„í•´ì„  ê° êµ¬ì„±ìš”ì†Œë“¤ì— ëŒ€í•´ ì •í™•íˆ ì´í•´í•˜ê³  ë„˜ì–´ê°€ì•¼ í•©ë‹ˆë‹¤.

#### ğŸ›‘ ìƒíƒœ (State)

Spring State Machine ì—ì„œ ìƒíƒœ (State) ë€ ì‹œìŠ¤í…œì´ ì¼ì • ì‹œì ì— ì²˜í•´ ìˆëŠ” ë…¼ë¦¬ì  êµ¬ê°„ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì£¼ë¡œ `enum` í´ë˜ìŠ¤ë¡œ ì„ ì–¸í•˜ì£ .

> ì—¬ê¸°ì„œ enum ì´ë€?
>
> ê°’ì˜ ì§‘í•©ì„ ì´ë£¨ëŠ” ìš”ì†Œë¥¼ ëœ»í•˜ëŠ” ë°ì´í„° ì…ë‹ˆë‹¤. ì—´ê±°í˜•ì´ë¼ê³ ë„ ë¶€ë¥´ì£ .  
> enum ì„ êµ¬ì„±í•˜ëŠ” ë©¤ë²„ë“¤ ê°ê°ì€ ê°ìì˜ ì˜ë¯¸ë¥¼ ê°€ì§‘ë‹ˆë‹¤.  
> ìƒìˆ˜ë“¤ì„ ëª¨ì•„ ë‘” ê²ƒì´ë¼ ì´í•´í•´ë„ ì¢‹ì•„ìš”.
>
> í´ë˜ìŠ¤ë€ ë˜ ë¬´ì—‡ì¸ê°€? ë¼ê³  ì§ˆë¬¸í•˜ì‹¤ ë¶„ë„ ê³„ì‹¤ ê²ƒ ê°™ìŠµë‹ˆë‹¤.  
> ì§€ê¸ˆì€ ì½”ë“œë³´ë‹¨ ê°œë…ì— ëŒ€í•œ ì´ì•¼ê¸°ë¥¼ í•˜ê³  ì‹¶ìœ¼ë‹ˆ ê°„ë‹¨íˆë§Œ ì„¤ëª…í•˜ìë©´, ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ” ì½”ë“œ ë‹¨ìœ„ë¼ê³  ìƒê° í•´ ì£¼ì„¸ìš”.
>
> ì´ í´ë˜ìŠ¤ ë¼ëŠ” ì„¤ê³„ë„ë¥¼ í†µí•´ ìƒì„± ëœ ê°ì²´ë“¤ì´ ìƒí˜¸ì‘ìš©í•˜ë©´ì„œ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì´ë¤„ìš”. ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ë°©ë²•ë¡  ì¤‘ 'ê°ì²´ì§€í–¥' ì„ ì‚¬ìš©í•œë‹¤ë©´ ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ë¡œì§ë“¤ì„ êµ¬í˜„í•  ìˆ˜ ìˆì–´ìš”.
>
> ë¬¼ë¡  ìœ ì¼í•œ ë°©ë²•ì€ ì•„ë‹™ë‹ˆë‹¤. ìš°ë¦¬ì—ê² 'ì ˆì°¨ì§€í–¥' ë„ ìˆìœ¼ë‹ˆê¹Œìš”.

ì´ ìƒíƒœ ë°ì´í„° ì¤‘ ë¡œì§ì„ ì‹¤í–‰í•  ë•Œì˜ ìƒíƒœë¥¼ `entry`, ë¡œì§ì´ ëë‚  ë•Œì˜ ìƒíƒœë¥¼ `exit` ì´ë¼ê³  í•©ë‹ˆë‹¤.

```kotlin
enum class PaymentState {
    WAITING, PROCESSING, APPROVED, FAILED, CANCELED
}
```

ì˜ˆë¥¼ ë“¤ì–´ ì£¼ë¬¸ ì‹œìŠ¤í…œì—ì„œëŠ” ê²°ì œ ëŒ€ê¸° -> ê²°ì œ ì¤‘ -> ê²°ì œ ì™„ë£Œ ë“±ì˜ ìƒíƒœë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ğŸš¦ì´ë²¤íŠ¸ (Event)

ìƒíƒœì˜ ì „ì´ë¥¼ ìœ ë°œí•˜ëŠ” íŠ¸ë¦¬ê±°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

ì´ ë˜í•œ `enum` ìœ¼ë¡œ ì„ ì–¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì´ë²¤íŠ¸ë“¤ì€ ì™¸ë¶€ ì…ë ¥ ë˜ëŠ” ë‚´ë¶€ í˜¸ì¶œë¡œ ë°œìƒí•  ìˆ˜ ìˆì£ .

```kotlin
enum class PaymentEvent {
    REQUEST, APPROVE, DECLINE, CANCEL
}
```

ë§Œì•½ ì‚¬ìš©ìê°€ ê²°ì œ ìš”ì²­ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ `REQUEST` ì´ë²¤íŠ¸ê°€ ë°œìƒ í•˜ê²Œ ë˜ê² ì£ ?

#### ğŸ”€ ì „ì´ (Transition)

í•œ ìƒíƒœì—ì„œ ë‹¤ë¥¸ ìƒíƒœë¡œ ì´ë™í•˜ëŠ” ê²½ë¡œë¥¼ ì •ì˜í•©ë‹ˆë‹¤.

`source`, `target`, `event` ê°ê°ì„ ì¡°í•©í•´ì„œ ë§Œë“¤ì£ . ì˜ˆë¥¼ ë“¤ì–´ë³¼ê¹Œìš”?

```kotlin
transitions
    .withExternal()
        .source(PaymentState.WAITING)
        .target(PaymentState.PROCESSING)
        .event(PaymentEvent.REQUEST)
```

`WAITING` ìƒíƒœì—ì„œ `REQUEST` ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ `PROCESSING` ìœ¼ë¡œ ì „ì´í•œë‹¤ëŠ” ì˜ë¯¸ë¥¼ ê°€ì§„ ì½”ë“œì…ë‹ˆë‹¤. ì´ë ‡ê²Œ ê° ìƒíƒœë“¤ì˜ ê²½ë¡œë¥¼ ì§€ì •í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ğŸ›¡ï¸ ê°€ë“œ (Guard)

ê°€ë“œ (Guard) ëŠ” íŠ¹ì • ì¡°ê±´ì´ ì¶©ì¡± ë  ë•Œë§Œ ì „ì´ë¥¼ í—ˆìš©í•˜ëŠ” boolean (true / false) ì¡°ê±´ì…ë‹ˆë‹¤. ì´ ê²½ìš° ì¡°ê±´ì´ true ì¼ ë•Œë§Œ ì „ì´ë˜ë„ë¡ ë©”ì†Œë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> ğŸ™‹â€â™‚ï¸ ë©”ì†Œë“œê°€ ë­ì—ìš”?
>
> ë©”ì†Œë“œ(method)ëŠ” ì»´í“¨í„° í”„ë¡œê·¸ë˜ë°ì—ì„œ íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ëª…ë ¹ë¬¸ ì§‘í•©ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
> í”íˆ í•¨ìˆ˜ (function) ì´ë¼ê³ ë„ í•˜ëŠ”ë° ì¢€ ë” ë¶€ë¶„ì§‘í•© ì ì¸ ì˜ë¯¸ì—ìš”.  
> ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” í´ë˜ìŠ¤ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì˜ ë‹¨ìœ„ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ë²”ìš©ì ìœ¼ë¡œ ì“°ì´ëŠ” ì‘ì—… ë‹¨ìœ„ê°€ ì•„ë‹ˆë¼ íŠ¹ì • ê°ì²´ê°€ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì˜ ë‹¨ìœ„ë¥¼ ì˜ë¯¸í•˜ì£ .

```kotlin
.guard { context ->
    val paymentId = context.extendedState.variables["paymentId"] as Long
    paymentService.canProcess(paymentId)
}
```

ê²°ì œê°€ ê°€ëŠ¥í•œ ìƒíƒœì¸ ì§€ í™•ì¸ í•œ í›„ì— ê²°ì œ ìš”ì²­ ì „ì´ë¥¼ í•˜ê³ ì‹¶ì„ ë•Œ ê°€ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

#### ğŸ¬ ì•¡ì…˜ (Action)

ì•¡ì…˜ (Action) ì€ ì „ì´ ì‹œì  ë˜ëŠ” ìƒíƒœ ì§„ì… ì‹œ ì‹¤í–‰í•  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì…ë‹ˆë‹¤.

```kotlin
.action { context ->
    val paymentId = context.extendedState.variables["paymentId"] as Long
    paymentService.processPayment(paymentId)
}
```

`processPayment` ë¼ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬í•˜ëŠ” ì˜ˆì‹œì—ìš”. íŠ¹ì • ìƒíƒœì— ì§„ì…í–ˆì„ ë•Œ (`PROCESSING` ì´ ë˜ê² ì£ ?) ì´ ë¡œì§ì„ í˜¸ì¶œí•˜ë¼ê³  í”„ë¡œê·¸ë˜ë° í•  ìˆ˜ ìˆì£ .

#### ğŸ“¦ ExtendedState

ExtendedState ëŠ” ìƒíƒœ ì „ì´ ì‹œì ì— ê³µìœ í•  ìˆ˜ ìˆëŠ” ì „ì—­ ìƒíƒœ ì €ì¥ì†Œì…ë‹ˆë‹¤. ê²°ì œ ID (paymentId) ì™€ ê°™ì€ ì •ë³´ë¥¼ FSM ì•ˆì—ì„œ ê³µìœ í•  ë•Œ ì‚¬ìš©í•˜ì£ .

```kotlin
stateMachine.extendedState.variables["paymentId"] = 123L
```

### ğŸ’³ ê²°ì œ ì„œë¹„ìŠ¤ ì˜ˆì œë¡œ ë³´ëŠ” Spring State Machine

ë§ˆì¹¨ ê²°ì œì— ëŒ€í•œ ì˜ˆì‹œê°€ ì•ì„œ ë‚˜ì˜¤ê¸°ë„ í–ˆìœ¼ë‹ˆ êµ¬ì²´ì ìœ¼ë¡œ ì‹¤ë¬´ì—ì„œ ë„ì… í•œ ì˜ˆì œë¥¼ ì§šì–´ë³´ê² ìŠµë‹ˆë‹¤.

ì‚¬ìš©ìê°€ `ê²°ì œ` ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ ë¡œì§ì€ ì•„ë˜ì™€ ê°™ì€ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤.

- ëŒ€ê¸° ì¤‘ â†’ ì²˜ë¦¬ ì¤‘ â†’ ìŠ¹ì¸ë¨
- í˜¹ì€ ì¤‘ê°„ì— ì‹¤íŒ¨, í˜¹ì€ ì‚¬ìš©ì ì·¨ì†Œ
- ë˜ ê²½ìš°ì— ë”°ë¼ì„  í™˜ë¶ˆ, ì¬ìŠ¹ì¸, ë³´ë¥˜ ìƒíƒœë„ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤

ì´ì²˜ëŸ¼ ìƒíƒœê°€ ëª…í™•íˆ êµ¬ë¶„ë˜ê³ , ì „ì´ê°€ ì´ë²¤íŠ¸ë¡œ ì¸í•´ ë°œìƒí•˜ëŠ” ê²½ìš° Spring State Machineì„ ì ìš©í•˜ê¸° ì¢‹ìŠµë‹ˆë‹¤.

ë¨¼ì € ì „ì²´ íë¦„ì„ ë‹¨ìˆœí™”í•´ ì‹œê°í™”í•´ë³´ê² ìŠµë‹ˆë‹¤.

```plaintext
[WAITING] --ê²°ì œ ìš”ì²­â†’ [PROCESSING]
    |                        |
    |                        +--ìŠ¹ì¸â†’ [APPROVED]
    |                        +--ì‹¤íŒ¨â†’ [FAILED]
    |                        +--ì·¨ì†Œâ†’ [CANCELED]
```

#### âœï¸ ë¡œì§ ì‘ì„±

Spring(Kotlin) ì˜ˆì‹œë¡œ í•œë²ˆ ë³¼ê¹Œìš”? (ì½”ë“œëŠ” ìµœì†Œí•œìœ¼ë¡œ ì‘ì„± í•´ ë³´ê² ìŠµë‹ˆë‹¤.)

```kotlin
enum class PaymentState {
    WAITING, PROCESSING, APPROVED, FAILED, CANCELED
}

enum class PaymentEvent {
    REQUEST, APPROVE, DECLINE, CANCEL
}
```

ê²°ì œ ì²˜ë¦¬ì— í•„ìš”í•œ ìƒíƒœì™€ ì´ë²¤íŠ¸ë“¤ì„ `enum` í´ë˜ìŠ¤ë¡œ ì„ ì–¸ í•´ ë‘¡ë‹ˆë‹¤.

```kotlin
@Configuration
@EnableStateMachine
class PaymentStateMachineConfig : StateMachineConfigurerAdapter<PaymentState, PaymentEvent>() {

    override fun configure(states: StateMachineStateConfigurer<PaymentState, PaymentEvent>) {
        states
            .withStates()
            .initial(PaymentState.WAITING)
            .end(PaymentState.APPROVED)
            .end(PaymentState.FAILED)
            .end(PaymentState.CANCELED)
            .states(EnumSet.allOf(PaymentState::class.java))
    }

    override fun configure(transitions: StateMachineTransitionConfigurer<PaymentState, PaymentEvent>) {
        transitions
            .withExternal().source(PaymentState.WAITING).target(PaymentState.PROCESSING).event(PaymentEvent.REQUEST)
            .and()
            .withExternal().source(PaymentState.PROCESSING).target(PaymentState.APPROVED).event(PaymentEvent.APPROVE)
            .and()
            .withExternal().source(PaymentState.PROCESSING).target(PaymentState.FAILED).event(PaymentEvent.DECLINE)
            .and()
            .withExternal().source(PaymentState.PROCESSING).target(PaymentState.CANCELED).event(PaymentEvent.CANCEL)
    }
}
```

ê·¸ë¦¬ê³  ì´ ìƒíƒœë“¤ì˜ ë³€í™”ì— ëŒ€í•œ ì „ì´ ë°©í–¥ì„±ì„ Configuration ì½”ë“œë¡œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê²°ì œ ë¡œì§ì˜ ì´ˆê¸° ìƒíƒœëŠ” `WAITING`, ê·¸ë¦¬ê³  `APPROVED`, `FAILED`, `CANCELED` ëŠ” ì¢…ë£Œ ìƒíƒœì£ . ì´ ìƒíƒœë“¤ì˜ ê´€ê³„ë¥¼ `StateMachineStateConfigurer` ì— ì§€ì • í•´ ì¤ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ìƒíƒœ ì „ì´ íë¦„ ê´€ê³„ë¥¼ `StateMachineTransitionConfigurer` ì— ì‘ì„± í•©ë‹ˆë‹¤.

ì½”ë“œê°€ ì¶”ìƒì ì¼ ìˆ˜ ìˆìœ¼ë‹ˆ ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ì„ ê·¸ë ¤ë³¼ê¹Œìš”?

<center>
  <img src="/static/images/blog/deepdive/deepdive-02-03.png" />
</center>

ì§€ê¸ˆê¹Œì§€ ì˜ ë”°ë¼ ì™€ ì£¼ì…¨ìŠµë‹ˆë‹¤. State Machine ì„ ì„¤ì •í–ˆìœ¼ë‹ˆ ì‹¤ì œ ì„œë¹„ìŠ¤ì— í•œë²ˆ ë…¹ì—¬ë³´ê² ìŠµë‹ˆë‹¤.

Spring MVC êµ¬ì¡° ìƒì—ì„œ ê²°ì œ ìš”ì²­ì— ëŒ€í•œ ë¡œì§ì€ ì´ë ‡ê²Œ í˜ëŸ¬ê°‘ë‹ˆë‹¤.

```plaintext
Controller (ê²°ì œ ìš”ì²­) â†’ Service (ìƒíƒœ ì „ì´ trigger)
                         â†˜ StateMachine â†’ action / entry ì‹¤í–‰
```

```kotlin
@Component
class PaymentActions {

    @Bean
    fun requestAction(): Action<PaymentState, PaymentEvent> {
        return Action { context ->
            val paymentId = context.extendedState.variables["paymentId"] as Long
            paymentService.processPayment(paymentId)
        }
    }
}
```

ë§Œì•½ ê²°ì œ ìš”ì²­ì´ `PROCESSING` ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œ ì‹¤í–‰ë˜ì–´ì•¼ í•  ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ê²°ì œ ë¡œì§ í˜¸ì¶œì´ë¼ë©´ ìœ„ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì•ì„œ ì‘ì„±í–ˆë˜ `Configuration` ì½”ë“œì— ë¶€ê°€ ë¡œì§ì„ ì—°ê²°í•©ë‹ˆë‹¤.

```kotlin
transitions
    .withExternal()
        .source(PaymentState.WAITING)
        .target(PaymentState.PROCESSING)
        .event(PaymentEvent.REQUEST)
        .action(paymentActions.requestAction())
```

Service ë ˆì´ì–´ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë ˆì´ì–´) ì—ì„œëŠ” ê·¸ëŸ¼ ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```kotlin
@Service
class PaymentService(
    private val stateMachineFactory: StateMachineFactory<PaymentState, PaymentEvent>
) {
    /**
    * ê²°ì œ ìš”ì²­ì´ ë“¤ì–´ì˜¤ëŠ” ê²½ìš° ì œì¼ ë¨¼ì € í˜¸ì¶œë˜ëŠ” ë©”ì†Œë“œ
    */
    fun handlePaymentRequest(paymentId: Long) {
        val stateMachine = stateMachineFactory.getStateMachine(paymentId.toString())
        stateMachine.start()
        stateMachine.extendedState.variables["paymentId"] = paymentId
        stateMachine.sendEvent(PaymentEvent.REQUEST)
    }

    /**
    * ê²°ì œ ë¡œì§ ì‹œì‘
    */
    fun processPayment(paymentId: Long) {
        // do something
    }
}
```

ê²°ì œ ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ `handlePaymentRequest` ë©”ì†Œë“œë¶€í„° í˜¸ì¶œí•œë‹¤ê³  ìƒê°í•´ë³´ë©´, ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ì—ˆì„ ë•Œ stateMachine ì„ í•˜ë‚˜ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.

ì „ì²´ íë¦„ì„ ìƒíƒœ ë‹¤ì´ì–´ê·¸ë¨ìœ¼ë¡œ ìš”ì•½í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

```mermaid
sequenceDiagram
    participant C as Controller
    participant S as PaymentService
    participant FSM as StateMachine
    participant PG as PG API

    C->>S: ê²°ì œ ìš”ì²­(paymentId)
    S->>FSM: ìƒíƒœ ë¨¸ì‹  ì‹œì‘ ë° ì´ë²¤íŠ¸ ìš”ì²­(REQUEST)
    FSM->>S: action(requestAction) í˜¸ì¶œ
    S->>PG: ê²°ì œ ìŠ¹ì¸ ìš”ì²­
    PG-->>S: ìŠ¹ì¸ ì‘ë‹µ
```

ëª¨ë“  ê²°ì œ ë¡œì§ì´ ëë‚˜ê³  `APPROVED` ìƒíƒœì— ì§„ì…í–ˆì„ ë•Œ ì•ŒëŒì„ ë³´ë‚´ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì•¡ì…˜ì„ ì§€ì •í•´ì¤„ ìˆ˜ë„ ìˆì£ .

```kotlin
/**
* APPROVED ìƒíƒœê°€ ë˜ì—ˆì„ ë•Œ Slack, Telegram ë“±ìœ¼ë¡œ ì•ŒëŒ ì „ë‹¬
*/
@Bean
fun approvalEntryAction(): Action<PaymentState, PaymentEvent> {
    return Action { context ->
        val paymentId = context.extendedState.variables["paymentId"] as Long
        notificationService.sendApprovalMessage(paymentId)
    }
}

override fun configure(states: StateMachineStateConfigurer<PaymentState, PaymentEvent>) {
    states
        .withStates()
        .initial(PaymentState.WAITING)
        .state(PaymentState.APPROVED, paymentActions.approvalEntryAction(), null)
}
```

#### ğŸ§ª ë¡œì§ í…ŒìŠ¤íŠ¸

ì§€ê¸ˆê¹Œì§€ ë¡œì§ì„ ì˜ ì‘ì„±í–ˆì§€ë§Œ, ê°œë°œì ì„ ì—ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•˜ê³  QA ë¡œ ë„˜ê²¨ì•¼ê² ì£ ?

ì§€ê¸ˆê¹Œì§€ ì‘ì„±í•œ State Machine ì„ Kotest ë¡œ í…ŒìŠ¤íŠ¸ í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```kotlin
import io.kotest.core.spec.style.BehaviorSpec
import io.kotest.matchers.shouldBe
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.boot.test.context.SpringBootTest
import org.springframework.statemachine.StateMachine
import org.springframework.statemachine.config.StateMachineFactory
import org.springframework.test.context.TestPropertySource

@SpringBootTest
@TestPropertySource(locations = ["classpath:application-test.properties"])
class PaymentStateMachineBehaviorSpecTest @Autowired constructor(
    private val stateMachineFactory: StateMachineFactory<PaymentState, PaymentEvent>
) : BehaviorSpec({

    given("ê²°ì œ ìƒíƒœ ë¨¸ì‹ ì´ ì´ˆê¸°í™”ë˜ì—ˆì„ ë•Œ") {

        `when`("REQUEST ì´ë²¤íŠ¸ë¥¼ ë³´ë‚´ë©´") {
            then("WAITING â†’ PROCESSING ìƒíƒœë¡œ ì „ì´ëœë‹¤") {
                val machine: StateMachine<PaymentState, PaymentEvent> =
                    stateMachineFactory.getStateMachine("PAYMENT_REQ_1")
                machine.start()

                machine.sendEvent(PaymentEvent.REQUEST)

                machine.state.id shouldBe PaymentState.PROCESSING
            }
        }

        `when`("REQUEST â†’ APPROVE ì´ë²¤íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ë³´ë‚´ë©´") {
            then("WAITING â†’ PROCESSING â†’ APPROVED ìƒíƒœë¡œ ì „ì´ëœë‹¤") {
                val machine = stateMachineFactory.getStateMachine("PAYMENT_REQ_2")
                machine.start()

                machine.sendEvent(PaymentEvent.REQUEST)
                machine.sendEvent(PaymentEvent.APPROVE)

                machine.state.id shouldBe PaymentState.APPROVED
            }
        }

        `when`("REQUEST â†’ DECLINE ì´ë²¤íŠ¸ë¥¼ ìˆœì„œëŒ€ë¡œ ë³´ë‚´ë©´") {
            then("WAITING â†’ PROCESSING â†’ FAILED ìƒíƒœë¡œ ì „ì´ëœë‹¤") {
                val machine = stateMachineFactory.getStateMachine("PAYMENT_REQ_3")
                machine.start()

                machine.sendEvent(PaymentEvent.REQUEST)
                machine.sendEvent(PaymentEvent.DECLINE)

                machine.state.id shouldBe PaymentState.FAILED
            }
        }
    }
})
```

í”íˆ ë³´ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œì§€ë§Œ, State Machine ìœ¼ë¡œ ë¡œì§ì„ ì‘ì„±í•˜ê²Œ ë˜ë©´ ë§ˆì¹˜ ê¸°ê³„ë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì²˜ëŸ¼ ëª…ì‹œì ì´ê³  ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤ëŠ” ì´ì ì´ ìˆì£ .

### âš ï¸ Spring State Machine ë„ì… ì‹œ ê³ ë ¤í•´ì•¼ í•  ì ?

ì—¬ê¸°ê¹Œì§€ ì½ì–´ ë³´ì…¨ì„ ë•Œ ìƒë‹¹íˆ ì €í¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ë° ë„ì›€ì´ ëœë‹¤ê³  ìƒê°ì´ ë“œì‹¤ ìˆ˜ ìˆì§€ë§Œ, ì´ëŸ° ì—”ì§€ë‹ˆì–´ë§ì€ ê³µìˆ˜ê°€ ë“¤ì–´ê°€ëŠ” ì‘ì—…ì…ë‹ˆë‹¤. ê·¸ë˜ì„œ ëª‡ ê°€ì§€ ê¸°ì¤€ì„ ê°€ì§€ê³  ë¡œì§ì„ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.

ë¨¼ì € Finite State Machine ì„ ì“°ëŠ” ê²Œ ê³¼í•œ ì„¤ê³„ì¸ ì§€ ê³ ë ¤í•´ë³¼ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ìƒíƒœê°€ ì ë‹¤ë©´, ì˜ˆë¥¼ ë“¤ì–´ 2 ~ 3ê°œ ì •ë„ë©´ êµ³ì´ State Machine ê¹Œì§€ í•„ìš”ê°€ ì—†ì„ ìˆ˜ ìˆì–´ìš”. ë‹¨ìˆœí•œ ì½”ë“œë¡œ í•´ê²° ë  ë§Œí¼ ê°„ë‹¨í•œ ë¬¸ì œë¼ë©´ ê°„ë‹¨í•˜ê²Œ í•´ê²°í•˜ëŠ” ê²Œ ë§ìŠµë‹ˆë‹¤.

ë˜í•œ ë³µì¡í•œ ì¡°ê±´ ë¶„ë¦¬ì— ëŒ€í•´ì„œëŠ” Guard ë¡œ ì˜ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ìŠ¹ì¸ ì¡°ê±´ì— 1ë¶„ ì´ë‚´ ì¬ì‹œë„ í–ˆê±°ë‚˜ ì‚¬ìš©ì ìƒíƒœê°€ ë¸”ë™íšŒì›ì¸ ê²½ìš°ì—” Guard ë¡œ ì¶”ì¶œí•´ì•¼ í•˜ì£ .

ë˜í•œ ì¥ê¸° ê±°ë˜ë‚˜ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ ë“± ìƒíƒœë¥¼ ë³´ì¡´í•´ì•¼ í•˜ëŠ” ê²½ìš°ì—” Oracle, MySQL ê°™ì€ RDB í˜¹ì€ Redis ë“±ì— ì €ì¥í•´ì•¼ í•©ë‹ˆë‹¤. ì´ ê²½ìš° ì €ì¥ ë°©ì‹ì— ë”°ë¼ ë³µêµ¬ë‚˜ ì¬ì‹œë„ ì „ëµì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ì „ì´ê°€ ì‹¤íŒ¨í•˜ê±°ë‚˜ ì˜ˆì™¸ê°€ ì¼ì–´ë‚˜ëŠ” ê²½ìš°ì— ëŒ€í•œ ì‚¬ì´ë“œì´í™íŠ¸ë¥¼ ëª…í™•íˆ ì •ì˜í•´ì•¼ í•©ë‹ˆë‹¤. `StateMachineListener` ë“±ì„ í™œìš©í•´ì•¼ í•˜ì£ .

### â±ï¸ ì‹¬í™” : ê²°ì œ ì„¸ì…˜ ê´€ë¦¬ ì˜ˆì œ

ê·¸ëŸ¼ ë§Œì•½ì— ì´ëŸ° ìš”êµ¬ì‚¬í•­ì´ ìˆë‹¤ê³  ìƒê° í•´ë³¼ê¹Œìš”?

> ê±°ë˜ ìŠ¹ì¸ì€ ì„œë²„ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ 3ë¶„ ê°„ ìœ íš¨í•´ì•¼ í•œë‹¤.

ë©€ë¦¬ ê°ˆ ê²ƒë„ ì—†ì´ ì‡¼í•‘ëª°ì—ì„œ XX í˜ì´ ë“±ìœ¼ë¡œ ê²°ì œ í•  ë•Œ, ëª‡ ë¶„ ì•ˆì— ê²°ì œê°€ ì´ë¤„ì§€ì§€ ì•Šìœ¼ë©´ ë‹¤ì‹œ ìš”ì²­ì„ í•´ì•¼ í•˜ì£ .

ìš°ë¦¬ê°€ ê±°ë˜ ìš”ì²­ì„ í•˜ëŠ” ì‹œì ì—ì„œ State Machine ì´ íŠ¹ì • ê±°ë˜ ID ì— ëŒ€í•´ ì´ˆê¸°í™”ë˜ê³ , 3ë¶„ ì•ˆì— ê±°ë˜ë¥¼ ìŠ¹ì¸í•˜ê²Œ í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?

ì„œë²„ ì…ì¥ì—ì„  ë°ì´í„°ë¥¼ ì–´ë”˜ê°€ì— ì €ì¥ í•´ ë‘ì–´ì•¼ ê² ì£ . ì¼ë°˜ì ìœ¼ë¡œ RDB ë¥¼ ì“¸ ìˆ˜ ìˆê² ì§€ë§Œ, ê²°ì œ ìš”ì²­ì´ ëŒ€ê·œëª¨ë¡œ ë“¤ì–´ì˜¤ê²Œ ëœë‹¤ë©´ ì–´ë–¨ê¹Œìš”? ì½ê¸°/ì“°ê¸° ë³‘ëª©ì´ ì¼ì–´ë‚  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

`Redis` ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ ë©”ëª¨ë¦¬ (RAM) ì— ì˜¬ë ¤ë‘ê³  ë™ì‘í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ RDB ëŠ” ë””ìŠ¤í¬ (í”íˆ ë§í•˜ëŠ” SSD, HDD) ì— ê¸°ë°˜í•˜ê¸° ë•Œë¬¸ì— ì½ê¸°/ì“°ê¸° ì„±ëŠ¥ì— ì œí•œì´ ê±¸ë¦´ ìˆ˜ ìˆì£ .

ëŒ€ëŸ‰ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ëŠ” ê²½ìš° íŠ¹íˆ RDB ë§Œìœ¼ë¡œëŠ” ë™ì‹œì— ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì— ëŒ€í•´ ì“°ê¸° ìš”ì²­ì´ ë“¤ì–´ê°€ëŠ” ê²½ìš° ë½ (ë‹¤ë¥¸ ì“°ê¸° ìš”ì²­ì´ ë§‰íˆëŠ” ê±¸ ì˜ë¯¸í•©ë‹ˆë‹¤.)ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ `Redis` ëŠ” íŠ¹ì • key ê°’ì— í• ë‹¹ ëœ ë°ì´í„°ë§Œ ë³€ê²½í•˜ë©´ ë˜ì£ . ê²Œë‹¤ê°€ TTL(ë§Œë£Œì‹œê°„) ê¸°ëŠ¥ì„ ì§€ì›í•©ë‹ˆë‹¤. ë§Œë£Œì‹œê°„ì´ ì§€ë‚˜ë©´ ë°ì´í„°ë¥¼ ìë™ìœ¼ë¡œ ì‚­ì œì²˜ë¦¬ í•  ìˆ˜ ìˆì£ . RDB ëŠ” Scheduler ë“±ì„ í†µí•´ ì£¼ê¸°ì ìœ¼ë¡œ ì´ëŸ° ë°ì´í„°ë“¤ì„ ì§€ì›Œì¤˜ì•¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì§€ê¸ˆ ê°™ì€ ê²°ì œ ì²˜ë¦¬ì™€ ê°™ì´ ì¼ì‹œì ì´ê³  ë¹ˆë²ˆíˆ ë³€ê²½ë˜ëŠ” ìƒíƒœ ë°ì´í„°ëŠ” `Redis` ê°€ ì¢€ ë” ì í•©í•˜ë‹¤ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¡  RDBë¼ê³  ë¶ˆê°€ëŠ¥í•œ ê±´ ì•„ë‹™ë‹ˆë‹¤. ì•ì„œ ë§ì”€ë“œë¦° ìƒí™©ì— ëŒ€í•´ ì¶©ë¶„íˆ ëŒ€ì‘ ê°€ëŠ¥í•œ íŠ¸ë˜í”½ì´ë¼ë©´ ìš°ì„  RDBë¡œ ë¡œì§ì„ êµ¬í˜„ í•´ ë³´ëŠ”ê²ƒë„ ì¢‹ì€ ë°©ë²•ì´ì£ .

> í•­ìƒ ì€íƒ„í™˜ì€ ì—†ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”!
>
> ë§‰ìƒ Redis ë¥¼ ë„ì…í•œë‹¤ê³  í•´ë„ ëª¨ë“  ê²Œ í•´ê²°ë˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.  
> Redis ë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ê³µìˆ˜ë„ ë“¤ì£ . ë©”ëª¨ë¦¬ì— ë°ì´í„°ë¥¼ ì˜¬ë ¤ë‘”ë‹¤ëŠ” ê±´, í”„ë¡œì„¸ìŠ¤ê°€ ì£½ìœ¼ë©´ (í”íˆ í”„ë¡œê·¸ë¨ì´ ì£½ì—ˆë‹¤ê³  í•˜ì£ ) ëª¨ë“  ë°ì´í„°ê°€ ìœ ì‹¤ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
> ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ í´ëŸ¬ìŠ¤í„°ë§ì„ í•˜ê³¤ í•˜ëŠ”ë°...ì´ê²ƒë„ ê²°êµ­ ì—”ì§€ë‹ˆì–´ë§ ë¹„ìš©ì´ì£ ...í•˜ì§€ë§Œ íŠ¸ë˜í”½ì´ ëŠ˜ì–´ë‚¬ë‹¤ë©´ ê·¸ ë§Œí¼ ê³ ê°ë“¤ì„ ëŒ€ì‘í•´ì•¼ í•˜ì–ì•„ìš”?  
> ë§ˆì¹˜ ì‹ë‹¹ì´ ì˜ ë˜ë©´ ì§ì›ì„ ë½‘ê³ , í…Œì´ë¸”ì„ ëŠ˜ë¦¬ê³  ì¥ë¹„ë¥¼ ë„ì…í•˜ëŠ” ë“±...ì„œë¹„ìŠ¤ë„ ìƒí™©ì— ë”°ë¼ ì“¸ ë„êµ¬ê°€ ë‹¬ë¼ì§€ëŠ” ê²ƒ ê°™ì•„ìš”.

```kotlin
fun requestPayment(paymentId: String) {
    val machine = stateMachineFactory.getStateMachine(paymentId)
    machine.start()
    machine.sendEvent(PaymentEvent.REQUEST)
    persister.persist(machine, paymentId)

    // Redisì— ê±°ë˜ ìƒíƒœ ì €ì¥ (TTL: 3ë¶„)
    redisTemplate.opsForValue().set("payment:$paymentId", "PROCESSING", Duration.ofMinutes(3))
}
```

stateMachine ì´ ì´ˆê¸°í™” ë˜ëŠ” ì‹œì ì—ì„œ Redis ì— `paymentId` í‚¤ê°’ìœ¼ë¡œ stateMachine ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤. 3ë¶„ TTL ì„ ì§€ì • í•  ìˆ˜ ìˆì£ .

```kotlin
fun approvePayment(paymentId: String) {
    val machine = stateMachineFactory.getStateMachine(paymentId)
    persister.restore(machine, paymentId)

    if (machine.state.id == PaymentState.PROCESSING) {
        machine.sendEvent(PaymentEvent.APPROVE)
        persister.persist(machine, paymentId)

        // Redis TTL ì œê±°
        redisTemplate.delete("payment:$paymentId")
    }
}
```

ìŠ¹ì¸ì´ ë§ˆë¬´ë¦¬ë˜ë©´ Redis ì˜ ë©”ëª¨ë¦¬ë¥¼ ì§€ì›Œì¤ë‹ˆë‹¤. ë§Œì•½ 3ë¶„ ì•ˆì— ìŠ¹ì¸ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ìì—°ìŠ¤ëŸ½ê²Œ Redis ì—ì„œ ì•Œì•„ì„œ ì§€ì›Œì£¼ì£ .

ë§Œì•½ 3ë¶„ì´ ì§€ë‚˜ì„œ ìœ íš¨ì‹œê°„ì´ ë§Œë£Œê°€ ë˜ë©´ Redis ì˜ Keyspace Notification ê¸°ëŠ¥ì„ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. TTL ë§Œë£Œ ì‹œ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼œì„œ State Machine ì„ ìë™ìœ¼ë¡œ EXPIRED ìƒíƒœë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆì£ .

```kotlin
@Configuration
class RedisExpiredEventListener(
    private val stateMachineFactory: StateMachineFactory<PaymentState, PaymentEvent>
) {

    @Bean
    fun messageListenerAdapter(): MessageListenerAdapter {
        return MessageListenerAdapter(ExpiredKeyEventListener(stateMachineFactory))
    }

    @Bean
    fun redisMessageListenerContainer(
        connectionFactory: RedisConnectionFactory,
        listenerAdapter: MessageListenerAdapter
    ): RedisMessageListenerContainer {
        val container = RedisMessageListenerContainer()
        container.setConnectionFactory(connectionFactory)
        container.addMessageListener(listenerAdapter, PatternTopic("__keyevent@0__:expired"))
        return container
    }
}
```

ì‚¬ì „ ì‘ì—…ì„ í•´ë³¼ê²Œìš”. Redis ê°€ ë³´ë‚´ëŠ” ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆëŠ” Config ì½”ë“œë¥¼ ì‘ì„± í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```kotlin
class ExpiredKeyEventListener(
    private val stateMachineFactory: StateMachineFactory<PaymentState, PaymentEvent>
) : MessageListener {

    override fun onMessage(message: Message, pattern: ByteArray?) {
        val key = String(message.body)

        // í‚¤ ë„¤ì´ë° ì˜ˆì‹œ: "payment:PAYMENT_123"
        if (key.startsWith("payment:")) {
            val paymentId = key.removePrefix("payment:")
            val machine = stateMachineFactory.getStateMachine(paymentId)

            machine.start()
            machine.sendEvent(PaymentEvent.EXPIRED)
        }
    }
}
```

ê±°ë˜ ì„¸ì…˜ ì •ë³´ê°€ TTL ì´ ì§€ë‚˜ì„œ ë§Œë£Œ ì²˜ë¦¬ê°€ ë˜ì—ˆë‹¤ë©´, Redis ì—ì„œ Spring ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê²Œ ë©ë‹ˆë‹¤. ì´ ë©”ì‹œì§€ê°€ ì „ë‹¬ ë˜ì—ˆì„ ë•Œ í•¸ë“¤ëŸ¬ì—ê²Œ ë§Œë£Œ ì²˜ë¦¬ ë¡œì§ì„ í• ë‹¹ì‹œì¼œì¤„ ìˆ˜ ìˆì£ .

## ğŸšª Outro

ì§€ê¸ˆê¹Œì§€ Finite State Machine ì— ëŒ€í•œ ì»´í“¨í„°ê³µí•™ ì´ë¡  ì§€ì‹, ê·¸ë¦¬ê³  ì‹¤ë¬´ì—ì„œ ì‚¬ìš©í•˜ëŠ” Spring State Machine ì— ëŒ€í•´ ë”¥ë‹¤ì´ë¸Œ í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.

ì²˜ìŒì—ëŠ” ì‹¤ë¬´ íˆ´ì— ëŒ€í•´ ì„¤ëª…í•˜ë ¤ê³  í•˜ë‹¤ë³´ë‹ˆ ê¸°ë°˜ ì§€ì‹ì— ëŒ€í•œ ì´í•´ê°€ í•„ìš”í•˜ë‹¤ê³  ìƒê°ì´ ë“¤ì–´ì„œ ê¸€ì„ ì“°ê¸° ì‹œì‘í–ˆì–´ìš”. ì–´ì©Œë‹¤ê°€ ì»´íŒŒì¼ëŸ¬ ì´ë¡ ê¹Œì§€ ë‚˜ì™”ëŠ”ë°, í”„ë ˆì„ì›Œí¬ í•˜ë‚˜í•˜ë‚˜ê°€ ì‚¬ì‹¤ì€ ìˆ¨ì–´ìˆëŠ” ì´ë¡  ì§€ì‹ë“¤ë¡œ ì¼ë§¥ìƒí†µ í•œë‹¤ëŠ” ë§ì„ í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤.

ìƒíƒœê°€ ë§ì•„ì§€ê³ , íë¦„ì´ ê¼¬ì´ê³ , ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë©ì–´ë¦¬ì²˜ëŸ¼ ëª°ë¦¬ëŠ” ëŠë‚Œì´ ë“ ë‹¤ë©´
í•œ ë²ˆì¯¤ FSMìœ¼ë¡œ ê·¸ë ¤ë³´ê³ , Spring State Machineì„ ë„ì…í•´ë³´ëŠ” ê±¸ ì¶”ì²œë“œë¦½ë‹ˆë‹¤.

ì§€ê¸ˆê¹Œì§€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

## ğŸ”– Reference

- [https://ko.wikipedia.org/wiki/%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80\_%EC%9D%B4%EB%A1%A0](https://ko.wikipedia.org/wiki/%EC%98%A4%ED%86%A0%EB%A7%88%ED%83%80_%EC%9D%B4%EB%A1%A0)
- [https://spring.io/projects/spring-statemachine](https://spring.io/projects/spring-statemachine)
- [https://docs.spring.io/spring-data/redis/reference/api/java/org/springframework/data/redis/listener/KeyspaceEventMessageListener.html](https://docs.spring.io/spring-data/redis/reference/api/java/org/springframework/data/redis/listener/KeyspaceEventMessageListener.html)
